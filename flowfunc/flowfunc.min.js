(()=>{"use strict";var e={56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var u=e[c],l=r.base?u[0]+r.base:u[0],s=a[l]||0,d="".concat(l," ").concat(s);a[l]=s+1;var p=n(d),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var v=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:v,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var u=r(e,o),l=0;l<a.length;l++){var s=n(a[l]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}a=u}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);r&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},354:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},635:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(354),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"/* --- Modern Dark Theme for Node Editor --- */\n:root {\n  --editor-bg: #111827;\n  --node-bg: #1F2937;\n  --sidebar-bg: #1F2937;\n  --node-border: #4B5563;\n  --node-border-selected: #38BDF8;\n  --title-color: #F9FAFB;\n  --text-color: #D1D5DB;\n  --text-muted: #9CA3AF;\n  --socket-bg: #4B5563;\n  --socket-border: #9CA3AF;\n  --input-color: #A78BFA;\n  --output-color: #6EE7B7;\n  --connection-color: #52525B;\n  --connection-color-hover: #38BDF8;\n}\n\n/* --- Editor Page Layout --- */\n.editor-page-container {\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n  background-color: var(--editor-bg);\n}\n\n.editor-sidebar {\n  width: 280px;\n  height: 100vh;\n  background-color: var(--sidebar-bg);\n  border-right: 1px solid var(--node-border);\n  padding: 1rem;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.sidebar-header {\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--node-border);\n  margin-bottom: 1rem;\n}\n\n.sidebar-header h2 {\n  font-size: 1.25rem;\n  color: var(--title-color);\n}\n\n.sidebar-header p {\n  font-size: 0.875rem;\n  color: var(--text-muted);\n}\n\n.node-legend {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.node-info-card {\n  background-color: var(--editor-bg);\n  border: 1px solid var(--node-border);\n  border-radius: 8px;\n  padding: 1rem;\n}\n\n.node-info-card h3 {\n  font-size: 1rem;\n  color: var(--title-color);\n  margin-bottom: 0.5rem;\n}\n\n.node-info-card p {\n  font-size: 0.875rem;\n  color: var(--text-muted);\n  line-height: 1.5;\n}\n\n.editor-main-area {\n  flex-grow: 1;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* --- Flume.js Default Styles (slightly modified) --- */\n.flume-editor {\n    position: relative;\n    overflow: hidden;\n    height: 100%;\n    width: 100%;\n    background-color: var(--editor-bg);\n    background-image:\n        linear-gradient(var(--node-border) 1px, transparent 1px),\n        linear-gradient(90deg, var(--node-border) 1px, transparent 1px);\n    background-size: 20px 20px;\n}\n\n/* --- Styles for Clickable Node Cards --- */\n.node-card-button {\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  outline: inherit;\n  width: 100%;\n  text-align: left;\n}\n.node-card-button .node-info-card {\n  transition: background-color 0.2s, border-color 0.2s;\n}\n.node-card-button:hover .node-info-card {\n  background-color: #374151;\n  border-color: var(--node-border-selected);\n}","",{version:3,sources:["webpack://./src/lib/components/nodeeditor.css"],names:[],mappings:"AAAA,8CAA8C;AAC9C;EACE,oBAAoB;EACpB,kBAAkB;EAClB,qBAAqB;EACrB,sBAAsB;EACtB,+BAA+B;EAC/B,sBAAsB;EACtB,qBAAqB;EACrB,qBAAqB;EACrB,oBAAoB;EACpB,wBAAwB;EACxB,sBAAsB;EACtB,uBAAuB;EACvB,2BAA2B;EAC3B,iCAAiC;AACnC;;AAEA,+BAA+B;AAC/B;EACE,aAAa;EACb,aAAa;EACb,YAAY;EACZ,kCAAkC;AACpC;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mCAAmC;EACnC,0CAA0C;EAC1C,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,sBAAsB;AACxB;;AAEA;EACE,oBAAoB;EACpB,2CAA2C;EAC3C,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,mBAAmB;EACnB,wBAAwB;AAC1B;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;AACX;;AAEA;EACE,kCAAkC;EAClC,oCAAoC;EACpC,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,eAAe;EACf,yBAAyB;EACzB,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;EACnB,wBAAwB;EACxB,gBAAgB;AAClB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,aAAa;EACb,sBAAsB;AACxB;;AAEA,wDAAwD;AACxD;IACI,kBAAkB;IAClB,gBAAgB;IAChB,YAAY;IACZ,WAAW;IACX,kCAAkC;IAClC;;uEAEmE;IACnE,0BAA0B;AAC9B;;AAEA,4CAA4C;AAC5C;EACE,gBAAgB;EAChB,cAAc;EACd,YAAY;EACZ,UAAU;EACV,aAAa;EACb,eAAe;EACf,gBAAgB;EAChB,WAAW;EACX,gBAAgB;AAClB;AACA;EACE,oDAAoD;AACtD;AACA;EACE,yBAAyB;EACzB,yCAAyC;AAC3C",sourcesContent:["/* --- Modern Dark Theme for Node Editor --- */\r\n:root {\r\n  --editor-bg: #111827;\r\n  --node-bg: #1F2937;\r\n  --sidebar-bg: #1F2937;\r\n  --node-border: #4B5563;\r\n  --node-border-selected: #38BDF8;\r\n  --title-color: #F9FAFB;\r\n  --text-color: #D1D5DB;\r\n  --text-muted: #9CA3AF;\r\n  --socket-bg: #4B5563;\r\n  --socket-border: #9CA3AF;\r\n  --input-color: #A78BFA;\r\n  --output-color: #6EE7B7;\r\n  --connection-color: #52525B;\r\n  --connection-color-hover: #38BDF8;\r\n}\r\n\r\n/* --- Editor Page Layout --- */\r\n.editor-page-container {\r\n  display: flex;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background-color: var(--editor-bg);\r\n}\r\n\r\n.editor-sidebar {\r\n  width: 280px;\r\n  height: 100vh;\r\n  background-color: var(--sidebar-bg);\r\n  border-right: 1px solid var(--node-border);\r\n  padding: 1rem;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sidebar-header {\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid var(--node-border);\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.sidebar-header h2 {\r\n  font-size: 1.25rem;\r\n  color: var(--title-color);\r\n}\r\n\r\n.sidebar-header p {\r\n  font-size: 0.875rem;\r\n  color: var(--text-muted);\r\n}\r\n\r\n.node-legend {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.node-info-card {\r\n  background-color: var(--editor-bg);\r\n  border: 1px solid var(--node-border);\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n}\r\n\r\n.node-info-card h3 {\r\n  font-size: 1rem;\r\n  color: var(--title-color);\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.node-info-card p {\r\n  font-size: 0.875rem;\r\n  color: var(--text-muted);\r\n  line-height: 1.5;\r\n}\r\n\r\n.editor-main-area {\r\n  flex-grow: 1;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* --- Flume.js Default Styles (slightly modified) --- */\r\n.flume-editor {\r\n    position: relative;\r\n    overflow: hidden;\r\n    height: 100%;\r\n    width: 100%;\r\n    background-color: var(--editor-bg);\r\n    background-image:\r\n        linear-gradient(var(--node-border) 1px, transparent 1px),\r\n        linear-gradient(90deg, var(--node-border) 1px, transparent 1px);\r\n    background-size: 20px 20px;\r\n}\r\n\r\n/* --- Styles for Clickable Node Cards --- */\r\n.node-card-button {\r\n  background: none;\r\n  color: inherit;\r\n  border: none;\r\n  padding: 0;\r\n  font: inherit;\r\n  cursor: pointer;\r\n  outline: inherit;\r\n  width: 100%;\r\n  text-align: left;\r\n}\r\n.node-card-button .node-info-card {\r\n  transition: background-color 0.2s, border-color 0.2s;\r\n}\r\n.node-card-button:hover .node-info-card {\r\n  background-color: #374151;\r\n  border-color: var(--node-border-selected);\r\n}"],sourceRoot:""}]);const c=i},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,o=function(){var e=document.currentScript;if(!e){for(var t=document.getElementsByTagName("script"),n=[],r=0;r<t.length;r++)n.push(t[r]);e=(n=n.filter((function(e){return!e.async&&!e.text&&!e.textContent}))).slice(-1)[0]}return e};if(Object.defineProperty(n,"p",{get:(r=o().src.split("/").slice(0,-1).join("/")+"/",function(){return r})}),"undefined"!=typeof jsonpScriptSrc){var a=jsonpScriptSrc;jsonpScriptSrc=function(e){var t=function(e){return/\/_dash-component-suites\//.test(e.src)}(o()),n=a(e);if(!t)return n;var r=n.split("/"),i=r.slice(-1)[0].split(".");return i.splice(1,0,"v0_1_5m1754252607"),r.splice(-1,1,i.join(".")),r.join("/")}}n.nc=void 0;var i={};n.r(i),n.d(i,{Flowfunc:()=>es});const c=window.React;var u=n.n(c);const l=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function s(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function d(e){return function t(n){return 0===arguments.length||s(n)?t:e.apply(this,arguments)}}function p(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return s(n)?t:d((function(t){return e(n,t)}));default:return s(n)&&s(r)?t:s(n)?d((function(t){return e(t,r)})):s(r)?d((function(t){return e(n,t)})):e(n,r)}}}function f(e){return"[object String]"===Object.prototype.toString.call(e)}"undefined"!=typeof Symbol&&Symbol.iterator;function v(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var b=Object.prototype.toString,y=function(){return"[object Arguments]"===b.call(arguments)?function(e){return"[object Arguments]"===b.call(e)}:function(e){return v("callee",e)}}();const m=y;var h=!{toString:null}.propertyIsEnumerable("toString"),g=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_=function(){return arguments.propertyIsEnumerable("length")}(),x=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const E="function"!=typeof Object.keys||_?d((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=_&&m(e);for(t in e)!v(t,e)||o&&"length"===t||(r[r.length]=t);if(h)for(n=g.length-1;n>=0;)v(t=g[n],e)&&!x(r,t)&&(r[r.length]=t),n-=1;return r})):d((function(e){return Object(e)!==e?[]:Object.keys(e)}));Number.isInteger;function A(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function O(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}const w="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};const C=d((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function j(e,t,n,r){var o=A(e);function a(e,t){return S(e,t,n.slice(),r.slice())}return!O((function(e,t){return!O(a,t,e)}),A(t),o)}function S(e,t,n,r){if(w(e,t))return!0;var o,a,i=C(e);if(i!==C(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(a=String(o).match(/^function (\w*)/))?"":a[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!w(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!w(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var c=n.length-1;c>=0;){if(n[c]===e)return r[c]===t;c-=1}switch(i){case"Map":return e.size===t.size&&j(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&j(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var u=E(e);if(u.length!==E(t).length)return!1;var l=n.concat([e]),s=r.concat([t]);for(c=u.length-1;c>=0;){var d=u[c];if(!v(d,t)||!S(t[d],e[d],l,s))return!1;c-=1}return!0}const T=p((function(e,t){return S(e,t,[],[])}));var N=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;function P(e){return"[object Object]"===Object.prototype.toString.call(e)}var k=d((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():l(e)?[]:f(e)?"":P(e)?{}:m(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0}));const D=k;var I=d((function(e){return null==e}));const B=I;const R=p((function(e,t){return!B(t)&&e in t}));"function"==typeof Object.assign&&Object.assign;var M=d((function(e){return null!=e&&T(e,D(e))}));const L=M;var z="\t\n\v\f\r                　\u2028\u2029\ufeff";String.prototype.trim;const F=window.ReactDOM;var q=n.n(F);const W=window.PropTypes;var Y=n.n(W);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},J=Q()?u().useLayoutEffect:u().useEffect;function Q(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var G=!1,Z=0,$=function(){return++Z};function ee(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var te="Stage_wrapper__1X5K_",ne="Stage_transformWrapper__3CfIp",re="Stage_scaleWrapper__2Y7Ck";ee(".Stage_wrapper__1X5K_ {\n  width: 100%;\n  height: 100%;\n  min-height: 100px;\n  background-color: rgb(26, 28, 29);\n  background-image: linear-gradient(\n      0deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    ),\n    linear-gradient(\n      90deg,\n      transparent 24%,\n      rgba(255, 255, 255, 0.04) 25%,\n      rgba(255, 255, 255, 0.04) 26%,\n      transparent 27%,\n      transparent 74%,\n      rgba(255, 255, 255, 0.04) 75%,\n      rgba(255, 255, 255, 0.04) 76%,\n      transparent 77%,\n      transparent\n    );\n  color: #000;\n  background-size: 30px 30px;\n  position: relative;\n  overflow: hidden;\n  -webkit-overflow-scrolling: touch;\n  font-family: Helvetica, sans-serif;\n  text-align: left;\n  line-height: 1;\n  outline: none !important;\n}\n.Stage_wrapper__1X5K_ * {\n  box-sizing: border-box;\n}\n.Stage_wrapper__1X5K_ input,\ntextarea,\nselect {\n  font-family: Helvetica, sans-serif;\n}\n.Stage_transformWrapper__3CfIp {\n  transform-origin: center center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0px;\n  height: 0px;\n}\n.Stage_scaleWrapper__2Y7Ck {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n}\n");var oe=!("undefined"==typeof window||!window.document||!window.document.createElement),ae=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ae(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return oe?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),q().createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(u().Component);ie.propTypes={children:Y().node.isRequired,node:Y().any};var ce=ie,ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ue(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){q().unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=u().cloneElement(this.props.children)),this.portal=q().unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(u().Component),se=le;le.propTypes={children:Y().node.isRequired,node:Y().any};var de=q().createPortal?ce:se,pe="ContextMenu_menuWrapper__1BheJ",fe="ContextMenu_menuHeader__1Cw58",ve="ContextMenu_menuLabel__158Pv",be="ContextMenu_optionsWrapper__2YK_z",ye="ContextMenu_menuFilter__1goBp",me="ContextMenu_option__33MDL",he="ContextMenu_emptyText__2rcXy";ee(".ContextMenu_menuWrapper__1BheJ{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  font-size: 14px;\n  max-width: 300px;\n  min-width: 150px;\n  font-family: Helvetica, sans-serif;\n  line-height: 1.15;\n  outline: none;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ContextMenu_menuWrapper__1BheJ{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ContextMenu_menuHeader__1Cw58{\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuLabel__158Pv{\n  margin: 0px;\n  color: #fff;\n  font-size: 16px;\n  font-weight: 600;\n}\n.ContextMenu_optionsWrapper__2YK_z{\n  max-height: 300px;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n.ContextMenu_menuFilter__1goBp{\n  border: none;\n  background: none;\n  height: 24px;\n  flex: 1 1 auto;\n  width: 100%;\n  outline: none;\n  color: #fff;\n}\n.ContextMenu_menuFilter__1goBp::placeholder{\n    font-style: italic;\n  }\n.ContextMenu_option__33MDL{\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  padding: 5px;\n  border-bottom: 1px solid rgba(255,255,255,.1);\n  color: #ffffff;\n}\n.ContextMenu_option__33MDL:last-child{\n    border-bottom: none;\n  }\n.ContextMenu_option__33MDL:hover{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_option__33MDL label{\n    margin-bottom: 5px;\n    user-select: none;\n  }\n.ContextMenu_option__33MDL label:last-child{\n      margin-bottom: 0px;\n    }\n.ContextMenu_option__33MDL p{\n    margin: 0px;\n    font-style: italic;\n    font-size: 12px;\n    color: rgb(182, 186, 194);\n    user-select: none;\n  }\n.ContextMenu_option__33MDL[data-selected=true]{\n    background: rgba(255,255,255,.05);\n  }\n.ContextMenu_emptyText__2rcXy{\n  color: #fff;\n  padding: 5px;\n}\n");var ge=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e},_e=/\s/;var xe=function(e){for(var t=e.length;t--&&_e.test(e.charAt(t)););return t},Ee=/^\s+/;var Ae=function(e){return e?e.slice(0,xe(e)+1).replace(Ee,""):e};var Oe=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},we="object"==typeof K&&K&&K.Object===Object&&K,Ce=we,je="object"==typeof self&&self&&self.Object===Object&&self,Se=Ce||je||Function("return this")(),Te=Se.Symbol,Ne=Te,Pe=Object.prototype,ke=Pe.hasOwnProperty,De=Pe.toString,Ie=Ne?Ne.toStringTag:void 0;var Be=function(e){var t=ke.call(e,Ie),n=e[Ie];try{e[Ie]=void 0;var r=!0}catch(e){}var o=De.call(e);return r&&(t?e[Ie]=n:delete e[Ie]),o},Re=Object.prototype.toString;var Me=Be,Le=function(e){return Re.call(e)},ze=Te?Te.toStringTag:void 0;var Fe=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ze&&ze in Object(e)?Me(e):Le(e)};var qe=function(e){return null!=e&&"object"==typeof e},We=Fe,Ye=qe;var He=function(e){return"symbol"==typeof e||Ye(e)&&"[object Symbol]"==We(e)},Ve=Ae,Ue=Oe,Xe=He,Ke=/^[-+]0x[0-9a-f]+$/i,Je=/^0b[01]+$/i,Qe=/^0o[0-7]+$/i,Ge=parseInt;var Ze=ge,$e=function(e){if("number"==typeof e)return e;if(Xe(e))return NaN;if(Ue(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ue(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ve(e);var n=Je.test(e);return n||Qe.test(e)?Ge(e.slice(2),n?2:8):Ke.test(e)?NaN:+e};var et=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=$e(n))==n?n:0),void 0!==t&&(t=(t=$e(t))==t?t:0),Ze($e(e),t,n)};let tt=(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t};var nt=function(e){var t=e.x,n=e.y,r=e.options,o=void 0===r?[]:r,a=e.onRequestClose,i=e.onOptionSelected,c=e.label,l=e.hideHeader,s=e.hideFilter,d=e.emptyText,p=u().useRef(null),f=u().useRef(null),v=u().useRef(null),b=X(u().useState(""),2),y=b[0],m=b[1],h=X(u().useState(0),2),g=h[0],_=h[1],x=X(u().useState(0),2),E=x[0],A=x[1],O=u().useRef(tt(10)),w=function(e){i(e),a()},C=u().useCallback((function(e){p.current&&!p.current.contains(e.target)&&(a(),document.removeEventListener("click",C,{capture:!0}),document.removeEventListener("contextmenu",C,{capture:!0}))}),[p,a]),j=u().useCallback((function(e){27===e.keyCode&&(a(),document.removeEventListener("keydown",j,{capture:!0}))}),[a]);u().useEffect((function(){var e,t,n;return v.current&&v.current.focus(),_(null!==(e=null===(t=p.current)||void 0===t||null===(n=t.getBoundingClientRect())||void 0===n?void 0:n.width)&&void 0!==e?e:0),document.addEventListener("keydown",j,{capture:!0}),document.addEventListener("click",C,{capture:!0}),document.addEventListener("contextmenu",C,{capture:!0}),function(){document.removeEventListener("click",C,{capture:!0}),document.removeEventListener("contextmenu",C,{capture:!0}),document.removeEventListener("keydown",j,{capture:!0})}}),[C,j]);var S=u().useMemo((function(){if(!y)return o;var e=y.toLowerCase();return o.filter((function(t){return t.label.toLowerCase().includes(e)}))}),[y,o]);return u().useEffect((function(){var e;(s||l)&&(null===(e=p.current)||void 0===e||e.focus())}),[s,l]),u().useEffect((function(){var e=document.getElementById("".concat(O.current,"-").concat(E));if(e){var t,n=null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.getBoundingClientRect();n&&(r.y+r.height>n.y+n.height||r.y<n.y)&&e.scrollIntoView({block:"nearest"})}}),[E]),u().createElement("div",{"data-flume-component":"ctx-menu",className:pe,onMouseDown:function(e){return e.stopPropagation()},onKeyDown:function(e){if(38===e.which&&(e.preventDefault(),null===E?A(0):E>0&&A((function(e){return(e||0)-1}))),40===e.which&&(e.preventDefault(),null===E?A(0):E<S.length-1&&A((function(e){return(e||0)+1}))),13===e.which&&null!==E){var t=S[E];t&&w(t)}},style:{left:t,top:n,width:y?g:"auto"},ref:p,tabIndex:0,role:"menu","aria-activedescendant":"".concat(O.current,"-").concat(E)},l||!c&&!o.length?null:u().createElement("div",{className:fe,"data-flume-component":"ctx-menu-header"},u().createElement("label",{className:ve,"data-flume-component":"ctx-menu-title"},c),!s&&o.length?u().createElement("input",{"data-flume-component":"ctx-menu-input",type:"text",placeholder:"Filter options",value:y,onChange:function(e){var t=e.target.value;m(t),A(0)},className:ye,autoFocus:!0,ref:v}):null),u().createElement("div",{"data-flume-component":"ctx-menu-list",className:be,role:"menu",ref:f,style:{maxHeight:et(window.innerHeight-n-70,10,300)}},S.map((function(e,t){return u().createElement(rt,{menuId:O.current,selected:E===t,onClick:function(){return w(e)},onMouseEnter:function(){return A(null)},index:t,key:e.value+t},u().createElement("label",null,e.label),e.description?u().createElement("p",null,e.description):null)})),o.length?null:u().createElement("span",{"data-flume-component":"ctx-menu-empty",className:he},d)))},rt=function(e){var t=e.menuId,n=e.index,r=e.children,o=e.onClick,a=e.selected,i=e.onMouseEnter;return u().createElement("div",{"data-flume-component":"ctx-menu-option",className:me,role:"menuitem",onClick:o,onMouseEnter:i,"data-selected":a,id:"".concat(t,"-").concat(n)},r)},ot=u().createContext(null),at=u().createContext(null),it=u().createContext(null),ct=u().createContext(null),ut=u().createContext(null),lt=u().createContext(null),st=u().createContext(null),dt=u().createContext(null),pt=u().createContext("");function ft(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var vt=["children","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef"];function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yt=function(e){var t=e.children,n=e.stageState,r=e.stageRect,o=e.onDragDelayStart,a=e.onDragStart,i=e.onDrag,c=e.onDragEnd,l=e.onMouseDown,s=e.onTouchStart,d=e.disabled,p=e.delay,f=void 0===p?6:p,v=e.innerRef,b=ft(e,vt),y=u().useRef(null),m=u().useRef(),h=u().useRef(null),g=function(e){return 1/n.scale*e},_=function(e){var t,o,a,i,c,u,l,s,d,p,f,v,b=null!==(t=null===(o=m.current)||void 0===o?void 0:o.x)&&void 0!==t?t:0,y=null!==(a=null===(i=m.current)||void 0===i?void 0:i.y)&&void 0!==a?a:0;return{x:g(e.clientX-(r&&null!==(c=null===(u=r.current)||void 0===u?void 0:u.left)&&void 0!==c?c:0)-b-(r&&null!==(l=null===(s=r.current)||void 0===s?void 0:s.width)&&void 0!==l?l:0)/2)+g(n.translate.x),y:g(e.clientY-(r&&null!==(d=null===(p=r.current)||void 0===p?void 0:p.top)&&void 0!==d?d:0)-y-(r&&null!==(f=null===(v=r.current)||void 0===v?void 0:v.height)&&void 0!==f?f:0)/2)+g(n.translate.y)}},x=function(e){var t=_(e);i&&i(t,e)},E=function e(t){var n=_(t);c&&c(t,n),window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",x)},A=function(e){if(y.current){var t,n;if("ontouchstart"in window&&e.touches){var r=e.touches[0];t=r.clientX,n=r.clientY}else{var o=e;e.preventDefault(),t=o.clientX,n=o.clientY}var i=Math.abs(y.current.x-t),c=Math.abs(y.current.y-n);Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(c,2)))>=f&&(!function(e){if(a&&a(e),h.current&&y.current){var t=h.current.getBoundingClientRect();m.current={x:y.current.x-t.left,y:y.current.y-t.top},window.addEventListener("mouseup",E),window.addEventListener("mousemove",x)}}(e),O())}},O=function e(){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",A),y.current=null},w=function(e){var t,n;if(o&&o(e),e.stopPropagation(),"ontouchstart"in window&&e.touches){var r=e.touches[0];t=r.clientX,n=r.clientY}else{e.preventDefault();var a=e;t=a.clientX,n=a.clientY}y.current={x:t,y:n},document.addEventListener("mouseup",O),document.addEventListener("mousemove",A)};return u().createElement("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onMouseDown:function(e){d||w(e),l&&l(e)},onTouchStart:function(e){d||w(e),s&&s(e)},onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:function(e){h.current=e,v&&(v.current=e)}},b),t)};var mt=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ht=Array.isArray,gt=ht,_t=He,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Et=/^\w*$/;var At=function(e,t){if(gt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!_t(e))||(Et.test(e)||!xt.test(e)||null!=t&&e in Object(t))},Ot=Fe,wt=Oe;var Ct,jt=function(e){if(!wt(e))return!1;var t=Ot(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},St=Se["__core-js_shared__"],Tt=(Ct=/[^.]+$/.exec(St&&St.keys&&St.keys.IE_PROTO||""))?"Symbol(src)_1."+Ct:"";var Nt=function(e){return!!Tt&&Tt in e},Pt=Function.prototype.toString;var kt=function(e){if(null!=e){try{return Pt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Dt=jt,It=Nt,Bt=Oe,Rt=kt,Mt=/^\[object .+?Constructor\]$/,Lt=Function.prototype,zt=Object.prototype,Ft=Lt.toString,qt=zt.hasOwnProperty,Wt=RegExp("^"+Ft.call(qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Yt=function(e){return!(!Bt(e)||It(e))&&(Dt(e)?Wt:Mt).test(Rt(e))},Ht=function(e,t){return null==e?void 0:e[t]};var Vt=function(e,t){var n=Ht(e,t);return Yt(n)?n:void 0},Ut=Vt(Object,"create"),Xt=Ut;var Kt=function(){this.__data__=Xt?Xt(null):{},this.size=0};var Jt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qt=Ut,Gt=Object.prototype.hasOwnProperty;var Zt=function(e){var t=this.__data__;if(Qt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Gt.call(t,e)?t[e]:void 0},$t=Ut,en=Object.prototype.hasOwnProperty;var tn=Ut;var nn=Kt,rn=Jt,on=Zt,an=function(e){var t=this.__data__;return $t?void 0!==t[e]:en.call(t,e)},cn=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tn&&void 0===t?"__lodash_hash_undefined__":t,this};function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}un.prototype.clear=nn,un.prototype.delete=rn,un.prototype.get=on,un.prototype.has=an,un.prototype.set=cn;var ln=un;var sn=function(){this.__data__=[],this.size=0};var dn=function(e,t){return e===t||e!=e&&t!=t},pn=dn;var fn=function(e,t){for(var n=e.length;n--;)if(pn(e[n][0],t))return n;return-1},vn=fn,bn=Array.prototype.splice;var yn=fn;var mn=fn;var hn=fn;var gn=sn,_n=function(e){var t=this.__data__,n=vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():bn.call(t,n,1),--this.size,!0)},xn=function(e){var t=this.__data__,n=yn(t,e);return n<0?void 0:t[n][1]},En=function(e){return mn(this.__data__,e)>-1},An=function(e,t){var n=this.__data__,r=hn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}On.prototype.clear=gn,On.prototype.delete=_n,On.prototype.get=xn,On.prototype.has=En,On.prototype.set=An;var wn=On,Cn=Vt(Se,"Map"),jn=ln,Sn=wn,Tn=Cn;var Nn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Pn=Nn;var kn=function(e,t){var n=e.__data__;return Pn(t)?n["string"==typeof t?"string":"hash"]:n.map},Dn=kn;var In=kn;var Bn=kn;var Rn=kn;var Mn=function(){this.size=0,this.__data__={hash:new jn,map:new(Tn||Sn),string:new jn}},Ln=function(e){var t=Dn(this,e).delete(e);return this.size-=t?1:0,t},zn=function(e){return In(this,e).get(e)},Fn=function(e){return Bn(this,e).has(e)},qn=function(e,t){var n=Rn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wn.prototype.clear=Mn,Wn.prototype.delete=Ln,Wn.prototype.get=zn,Wn.prototype.has=Fn,Wn.prototype.set=qn;var Yn=Wn,Hn=Yn;function Vn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Vn.Cache||Hn),n}Vn.Cache=Hn;var Un=Vn;var Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kn=/\\(\\)?/g,Jn=function(e){var t=Un(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xn,(function(e,n,r,o){t.push(r?o.replace(Kn,"$1"):n||e)})),t})),Qn=mt,Gn=ht,Zn=He,$n=Te?Te.prototype:void 0,er=$n?$n.toString:void 0;var tr=function e(t){if("string"==typeof t)return t;if(Gn(t))return Qn(t,e)+"";if(Zn(t))return er?er.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},nr=tr;var rr=ht,or=At,ar=Jn,ir=function(e){return null==e?"":nr(e)};var cr=function(e,t){return rr(e)?e:or(e,t)?[e]:ar(ir(e))},ur=He;var lr=function(e){if("string"==typeof e||ur(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},sr=cr,dr=lr;var pr=function(e,t){for(var n=0,r=(t=sr(t,e)).length;null!=e&&n<r;)e=e[dr(t[n++])];return n&&n==r?e:void 0},fr=wn;var vr=wn,br=Cn,yr=Yn;var mr=wn,hr=function(){this.__data__=new fr,this.size=0},gr=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},_r=function(e){return this.__data__.get(e)},xr=function(e){return this.__data__.has(e)},Er=function(e,t){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!br||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yr(r)}return n.set(e,t),this.size=n.size,this};function Ar(e){var t=this.__data__=new mr(e);this.size=t.size}Ar.prototype.clear=hr,Ar.prototype.delete=gr,Ar.prototype.get=_r,Ar.prototype.has=xr,Ar.prototype.set=Er;var Or=Ar;var wr=Yn,Cr=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jr=function(e){return this.__data__.has(e)};function Sr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new wr;++t<n;)this.add(e[t])}Sr.prototype.add=Sr.prototype.push=Cr,Sr.prototype.has=jr;var Tr=Sr,Nr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Pr=function(e,t){return e.has(t)};var kr=function(e,t,n,r,o,a){var i=1&n,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;var l=a.get(e),s=a.get(t);if(l&&s)return l==t&&s==e;var d=-1,p=!0,f=2&n?new Tr:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var v=e[d],b=t[d];if(r)var y=i?r(b,v,d,t,e,a):r(v,b,d,e,t,a);if(void 0!==y){if(y)continue;p=!1;break}if(f){if(!Nr(t,(function(e,t){if(!Pr(f,t)&&(v===e||o(v,e,n,r,a)))return f.push(t)}))){p=!1;break}}else if(v!==b&&!o(v,b,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p};var Dr=Se.Uint8Array,Ir=dn,Br=kr,Rr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Mr=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Lr=Te?Te.prototype:void 0,zr=Lr?Lr.valueOf:void 0;var Fr=function(e,t,n,r,o,a,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Dr(e),new Dr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ir(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=Rr;case"[object Set]":var u=1&r;if(c||(c=Mr),e.size!=t.size&&!u)return!1;var l=i.get(e);if(l)return l==t;r|=2,i.set(e,t);var s=Br(c(e),c(t),r,o,a,i);return i.delete(e),s;case"[object Symbol]":if(zr)return zr.call(e)==zr.call(t)}return!1};var qr=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Wr=ht;var Yr=function(e,t,n){var r=t(e);return Wr(e)?r:qr(r,n(e))};var Hr=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a},Vr=function(){return[]},Ur=Object.prototype.propertyIsEnumerable,Xr=Object.getOwnPropertySymbols,Kr=Xr?function(e){return null==e?[]:(e=Object(e),Hr(Xr(e),(function(t){return Ur.call(e,t)})))}:Vr;var Jr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Qr=Fe,Gr=qe;var Zr=function(e){return Gr(e)&&"[object Arguments]"==Qr(e)},$r=qe,eo=Object.prototype,to=eo.hasOwnProperty,no=eo.propertyIsEnumerable,ro=Zr(function(){return arguments}())?Zr:function(e){return $r(e)&&to.call(e,"callee")&&!no.call(e,"callee")},oo={exports:{}};var ao=function(){return!1};!function(e,t){var n=Se,r=ao,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?n.Buffer:void 0,c=(i?i.isBuffer:void 0)||r;e.exports=c}(oo,oo.exports);var io=/^(?:0|[1-9]\d*)$/;var co=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&io.test(e))&&e>-1&&e%1==0&&e<t};var uo=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},lo=Fe,so=uo,po=qe,fo={};fo["[object Float32Array]"]=fo["[object Float64Array]"]=fo["[object Int8Array]"]=fo["[object Int16Array]"]=fo["[object Int32Array]"]=fo["[object Uint8Array]"]=fo["[object Uint8ClampedArray]"]=fo["[object Uint16Array]"]=fo["[object Uint32Array]"]=!0,fo["[object Arguments]"]=fo["[object Array]"]=fo["[object ArrayBuffer]"]=fo["[object Boolean]"]=fo["[object DataView]"]=fo["[object Date]"]=fo["[object Error]"]=fo["[object Function]"]=fo["[object Map]"]=fo["[object Number]"]=fo["[object Object]"]=fo["[object RegExp]"]=fo["[object Set]"]=fo["[object String]"]=fo["[object WeakMap]"]=!1;var vo=function(e){return po(e)&&so(e.length)&&!!fo[lo(e)]};var bo=function(e){return function(t){return e(t)}},yo={exports:{}};!function(e,t){var n=we,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,a=o&&o.exports===r&&n.process,i=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}(yo,yo.exports);var mo=vo,ho=bo,go=yo.exports,_o=go&&go.isTypedArray,xo=_o?ho(_o):mo,Eo=Jr,Ao=ro,Oo=ht,wo=oo.exports,Co=co,jo=xo,So=Object.prototype.hasOwnProperty;var To=function(e,t){var n=Oo(e),r=!n&&Ao(e),o=!n&&!r&&wo(e),a=!n&&!r&&!o&&jo(e),i=n||r||o||a,c=i?Eo(e.length,String):[],u=c.length;for(var l in e)!t&&!So.call(e,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Co(l,u))||c.push(l);return c},No=Object.prototype;var Po=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||No)};var ko=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Do=Po,Io=ko,Bo=Object.prototype.hasOwnProperty;var Ro=jt,Mo=uo;var Lo=function(e){return null!=e&&Mo(e.length)&&!Ro(e)},zo=To,Fo=function(e){if(!Do(e))return Io(e);var t=[];for(var n in Object(e))Bo.call(e,n)&&"constructor"!=n&&t.push(n);return t},qo=Lo;var Wo=function(e){return qo(e)?zo(e):Fo(e)},Yo=Yr,Ho=Kr,Vo=Wo;var Uo=function(e){return Yo(e,Vo,Ho)},Xo=Object.prototype.hasOwnProperty;var Ko=function(e,t,n,r,o,a){var i=1&n,c=Uo(e),u=c.length;if(u!=Uo(t).length&&!i)return!1;for(var l=u;l--;){var s=c[l];if(!(i?s in t:Xo.call(t,s)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var f=!0;a.set(e,t),a.set(t,e);for(var v=i;++l<u;){var b=e[s=c[l]],y=t[s];if(r)var m=i?r(y,b,s,t,e,a):r(b,y,s,e,t,a);if(!(void 0===m?b===y||o(b,y,n,r,a):m)){f=!1;break}v||(v="constructor"==s)}if(f&&!v){var h=e.constructor,g=t.constructor;h==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof h&&h instanceof h&&"function"==typeof g&&g instanceof g||(f=!1)}return a.delete(e),a.delete(t),f},Jo=Vt(Se,"DataView"),Qo=Cn,Go=Vt(Se,"Promise"),Zo=Vt(Se,"Set"),$o=Vt(Se,"WeakMap"),ea=Fe,ta=kt,na="[object Map]",ra="[object Promise]",oa="[object Set]",aa="[object WeakMap]",ia="[object DataView]",ca=ta(Jo),ua=ta(Qo),la=ta(Go),sa=ta(Zo),da=ta($o),pa=ea;(Jo&&pa(new Jo(new ArrayBuffer(1)))!=ia||Qo&&pa(new Qo)!=na||Go&&pa(Go.resolve())!=ra||Zo&&pa(new Zo)!=oa||$o&&pa(new $o)!=aa)&&(pa=function(e){var t=ea(e),n="[object Object]"==t?e.constructor:void 0,r=n?ta(n):"";if(r)switch(r){case ca:return ia;case ua:return na;case la:return ra;case sa:return oa;case da:return aa}return t});var fa=Or,va=kr,ba=Fr,ya=Ko,ma=pa,ha=ht,ga=oo.exports,_a=xo,xa="[object Arguments]",Ea="[object Array]",Aa="[object Object]",Oa=Object.prototype.hasOwnProperty;var wa=function(e,t,n,r,o,a){var i=ha(e),c=ha(t),u=i?Ea:ma(e),l=c?Ea:ma(t),s=(u=u==xa?Aa:u)==Aa,d=(l=l==xa?Aa:l)==Aa,p=u==l;if(p&&ga(e)){if(!ga(t))return!1;i=!0,s=!1}if(p&&!s)return a||(a=new fa),i||_a(e)?va(e,t,n,r,o,a):ba(e,t,u,n,r,o,a);if(!(1&n)){var f=s&&Oa.call(e,"__wrapped__"),v=d&&Oa.call(t,"__wrapped__");if(f||v){var b=f?e.value():e,y=v?t.value():t;return a||(a=new fa),o(b,y,n,r,a)}}return!!p&&(a||(a=new fa),ya(e,t,n,r,o,a))},Ca=qe;var ja=function e(t,n,r,o,a){return t===n||(null==t||null==n||!Ca(t)&&!Ca(n)?t!=t&&n!=n:wa(t,n,r,o,e,a))},Sa=Or,Ta=ja;var Na=Oe;var Pa=function(e){return e==e&&!Na(e)},ka=Pa,Da=Wo;var Ia=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},Ba=function(e,t,n,r){var o=n.length,a=o,i=!r;if(null==e)return!a;for(e=Object(e);o--;){var c=n[o];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=n[o])[0],l=e[u],s=c[1];if(i&&c[2]){if(void 0===l&&!(u in e))return!1}else{var d=new Sa;if(r)var p=r(l,s,u,e,t,d);if(!(void 0===p?Ta(s,l,3,r,d):p))return!1}}return!0},Ra=function(e){for(var t=Da(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ka(o)]}return t},Ma=Ia;var La=pr;var za=cr,Fa=ro,qa=ht,Wa=co,Ya=uo,Ha=lr;var Va=function(e,t){return null!=e&&t in Object(e)},Ua=function(e,t,n){for(var r=-1,o=(t=za(t,e)).length,a=!1;++r<o;){var i=Ha(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&Ya(o)&&Wa(i,o)&&(qa(e)||Fa(e))};var Xa=ja,Ka=function(e,t,n){var r=null==e?void 0:La(e,t);return void 0===r?n:r},Ja=function(e,t){return null!=e&&Ua(e,t,Va)},Qa=At,Ga=Pa,Za=Ia,$a=lr;var ei=function(e){return e};var ti=pr;var ni=function(e){return function(t){return null==t?void 0:t[e]}},ri=function(e){return function(t){return ti(t,e)}},oi=At,ai=lr;var ii=function(e){var t=Ra(e);return 1==t.length&&t[0][2]?Ma(t[0][0],t[0][1]):function(n){return n===e||Ba(n,e,t)}},ci=function(e,t){return Qa(e)&&Ga(t)?Za($a(e),t):function(n){var r=Ka(n,e);return void 0===r&&r===t?Ja(n,e):Xa(t,r,3)}},ui=ei,li=ht,si=function(e){return oi(e)?ni(ai(e)):ri(e)};var di=function(e){return"function"==typeof e?e:null==e?ui:"object"==typeof e?li(e)?ci(e[0],e[1]):ii(e):si(e)};var pi=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),c=i.length;c--;){var u=i[e?c:++o];if(!1===n(a[u],u,a))break}return t}},fi=pi(),vi=Wo;var bi=Lo;var yi=function(e,t){return function(n,r){if(null==n)return n;if(!bi(n))return e(n,r);for(var o=n.length,a=t?o:-1,i=Object(n);(t?a--:++a<o)&&!1!==r(i[a],a,i););return n}}((function(e,t){return e&&fi(e,t,vi)})),mi=Lo;var hi=He;var gi=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,a=hi(e),i=void 0!==t,c=null===t,u=t==t,l=hi(t);if(!c&&!l&&!a&&e>t||a&&i&&u&&!c&&!l||r&&i&&u||!n&&u||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||c&&n&&o||!i&&o||!u)return-1}return 0};var _i=mt,xi=pr,Ei=di,Ai=function(e,t){var n=-1,r=mi(e)?Array(e.length):[];return yi(e,(function(e,o,a){r[++n]=t(e,o,a)})),r},Oi=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},wi=bo,Ci=function(e,t,n){for(var r=-1,o=e.criteria,a=t.criteria,i=o.length,c=n.length;++r<i;){var u=gi(o[r],a[r]);if(u)return r>=c?u:u*("desc"==n[r]?-1:1)}return e.index-t.index},ji=ei,Si=ht;var Ti=function(e,t,n){t=t.length?_i(t,(function(e){return Si(e)?function(t){return xi(t,1===e.length?e[0]:e)}:e})):[ji];var r=-1;t=_i(t,wi(Ei));var o=Ai(e,(function(e,n,o){return{criteria:_i(t,(function(t){return t(e)})),index:++r,value:e}}));return Oi(o,(function(e,t){return Ci(e,t,n)}))},Ni=ht;var Pi=function(e,t,n,r){return null==e?[]:(Ni(t)||(t=null==t?[]:[t]),Ni(n=r?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},ki="__node_editor_stage__",Di="__node_editor_drag_connection__",Ii="__node_editor_connections__";function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function Ri(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mi="Connection_svg__-fKLY";ee(".Connection_svg__-fKLY{\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  pointer-events: none;\n  z-index: 0;\n  overflow: visible !important;\n}\n");var Li=Math.PI,zi=2*Li,Fi=1e-6,qi=zi-Fi;function Wi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yi(){return new Wi}function Hi(e){return function(){return e}}function Vi(e){this._context=e}function Ui(e){return new Vi(e)}function Xi(e){return e[0]}function Ki(e){return e[1]}function Ji(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Qi(e){this._context=e}function Gi(e){return new Qi(e)}Wi.prototype=Yi.prototype={constructor:Wi,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var a=this._x1,i=this._y1,c=n-e,u=r-t,l=a-e,s=i-t,d=l*l+s*s;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Fi)if(Math.abs(s*c-u*l)>Fi&&o){var p=n-a,f=r-i,v=c*c+u*u,b=p*p+f*f,y=Math.sqrt(v),m=Math.sqrt(d),h=o*Math.tan((Li-Math.acos((v+d-b)/(2*y*m)))/2),g=h/m,_=h/y;Math.abs(g-1)>Fi&&(this._+="L"+(e+g*l)+","+(t+g*s)),this._+="A"+o+","+o+",0,0,"+ +(s*p>l*f)+","+(this._x1=e+_*c)+","+(this._y1=t+_*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,a){e=+e,t=+t,a=!!a;var i=(n=+n)*Math.cos(r),c=n*Math.sin(r),u=e+i,l=t+c,s=1^a,d=a?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Fi||Math.abs(this._y1-l)>Fi)&&(this._+="L"+u+","+l),n&&(d<0&&(d=d%zi+zi),d>qi?this._+="A"+n+","+n+",0,1,"+s+","+(e-i)+","+(t-c)+"A"+n+","+n+",0,1,"+s+","+(this._x1=u)+","+(this._y1=l):d>Fi&&(this._+="A"+n+","+n+",0,"+ +(d>=Li)+","+s+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Qi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ji(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ji(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Zi,$i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"input";return document.querySelector('[data-node-id="'.concat(e,'"] [data-port-name="').concat(t,'"][data-port-transput-type="').concat(n,'"]'))},ec=function(e,t,n,r){var o=null!=n?n:"input";if(r&&r.current){var a=e+t+o,i=r.current.ports[a];if(i)return i.getBoundingClientRect();var c=$i(e,t,o);return c&&(r.current.ports[a]=c),c&&c.getBoundingClientRect()}var u=$i(e,t,o);return u&&u.getBoundingClientRect()},tc=function(e,t){var n,r=(t.x-e.x)/3,o=null!==(n=function(){var e=Xi,t=Ki,n=Hi(!0),r=null,o=Ui,a=null;function i(i){var c,u,l,s=i.length,d=!1;for(null==r&&(a=o(l=Yi())),c=0;c<=s;++c)!(c<s&&n(u=i[c],c,i))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,c,i),+t(u,c,i));if(l)return a=null,l+""||null}return i.x=function(t){return arguments.length?(e="function"==typeof t?t:Hi(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:Hi(+e),i):t},i.defined=function(e){return arguments.length?(n="function"==typeof e?e:Hi(!!e),i):n},i.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),i):o},i.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),i):r},i}().curve(Gi)([[e.x,e.y],[e.x+r,e.y],[e.x+2*r,t.y],[t.x,t.y]]))&&void 0!==n?n:"";return o},nc=function(e){var t,n=e.id,r=document.querySelector('[data-connection-id="'.concat(n,'"]'));null==r||null===(t=r.parentElement)||void 0===t||t.remove()},rc=function(e,t,n){var r=t.scale,o=function(e){return document.getElementById("".concat(Ii).concat(e))}(n);if(o){var a=o.getBoundingClientRect(),i=a.width/2,c=a.height/2,u=function(e){return 1/r*e};Object.values(e).forEach((function(e){e.connections&&e.connections.inputs&&Object.entries(e.connections.inputs).forEach((function(t,n){var r=X(t,2),l=r[0];r[1].forEach((function(t){var n=ec(t.nodeId,t.portName,"output"),r=ec(e.id,l,"input"),s=n?n.width/2:0;if(n&&r){var d=t.nodeId+t.portName+e.id+l,p=document.querySelector('[data-connection-id="'.concat(d,'"]'));p?function(e){var t=e.line,n=e.from,r=e.to;t.setAttribute("d",tc(n,r))}({line:p,from:{x:u(n.x-a.x+s-i),y:u(n.y-a.y+s-c)},to:{x:u(r.x-a.x+s-i),y:u(r.y-a.y+s-c)}}):function(e){var t=e.from,n=e.to,r=e.stage,o=e.id,a=e.outputNodeId,i=e.outputPortName,c=e.inputNodeId,u=e.inputPortName,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("class",Mi);var s=document.createElementNS("http://www.w3.org/2000/svg","path"),d=tc(t,n);s.setAttribute("d",d),s.setAttribute("stroke","rgb(185, 186, 189)"),s.setAttribute("stroke-width","3"),s.setAttribute("stroke-linecap","round"),s.setAttribute("fill","none"),s.setAttribute("data-connection-id",o),s.setAttribute("data-output-node-id",a),s.setAttribute("data-output-port-name",i),s.setAttribute("data-input-node-id",c),s.setAttribute("data-input-port-name",u),l.appendChild(s),r.appendChild(l)}({id:d,outputNodeId:t.nodeId,outputPortName:t.portName,inputNodeId:e.id,inputPortName:l,from:{x:u(n.x-a.x+s-i),y:u(n.y-a.y+s-c)},to:{x:u(r.x-a.x+s-i),y:u(r.y-a.y+s-c)},stage:o})}}))}))}))}};function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ADD_TOAST="ADD_TOAST",e.REMOVE_TOAST="REMOVE_TOAST",e.SET_HEIGHT="SET_HEIGHT",e.SET_EXITING="SET_EXITING"}(Zi||(Zi={}));var ic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Zi.ADD_TOAST:return[{id:tt(5),title:t.title,message:t.message,type:t.toastType||"info",duration:t.duration||1e4,height:0,exiting:!1}].concat(Ri(e));case Zi.SET_HEIGHT:var n=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ri(e.slice(0,n)),[ac(ac({},e[n]),{},{height:t.height})],Ri(e.slice(n+1)));case Zi.SET_EXITING:var r=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ri(e.slice(0,r)),[ac(ac({},e[r]),{},{exiting:!0})],Ri(e.slice(r+1)));case Zi.REMOVE_TOAST:var o=e.findIndex((function(e){return e.id===t.id}));return[].concat(Ri(e.slice(0,o)),Ri(e.slice(o+1)));default:return e}},cc=["id","defaultNode"];function uc(e){var t=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bi(t)?t:String(t)}function lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lc(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dc,pc=function(e,t,n){var r,o=e[t.nodeId],a=o.connections.inputs,i=t.portName;a[i];var c=ft(a,[i].map(uc)),u=sc(sc({},o),{},{connections:sc(sc({},o.connections),{},{inputs:c})}),l=e[n.nodeId],s=l.connections.outputs[n.portName].filter((function(e){return e.nodeId!==t.nodeId||e.portName!==t.portName})),d=sc(sc({},l),{},{connections:sc(sc({},l.connections),{},{outputs:sc(sc({},l.connections.outputs),{},H({},n.portName,s))})});return sc(sc({},e),{},(H(r={},t.nodeId,u),H(r,n.nodeId,d),r))},fc=function(e,t){return Object.entries(e).reduce((function(e,n){var r=X(n,2),o=r[0],a=r[1].filter((function(e){return e.nodeId!==t}));return a.length&&(e[o]=a),e}),{})},vc=function(e,t){return{inputs:fc(e.inputs,t),outputs:fc(e.outputs,t)}},bc=function(e,t){e[t];var n=ft(e,[t].map(uc));return n=Object.values(n).reduce((function(e,n){return e[n.id]=sc(sc({},n),{},{connections:vc(n.connections,t)}),e}),{}),function(e){for(var t=0,n=Array.from(document.querySelectorAll('[data-output-node-id="'.concat(e,'"], [data-input-node-id="').concat(e,'"]')));t<n.length;t++){var r,o=n[t];null==o||null===(r=o.parentElement)||void 0===r||r.remove()}}(t),n},yc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=function(e,t,n,r){var o=sc({},e),a=Object.values(o).map((function(e){return t[e.type]?void 0:e.id})).filter((function(e){return!!e}));a.forEach((function(e){o=gc(o,{type:dc.REMOVE_NODE,nodeId:e},{nodeTypes:t,portTypes:n,context:r})}));var i=Object.values(o).reduce((function(e,o){var a=t[o.type],i=mc({node:o,nodeType:a,portTypes:n,context:r}),c=Object.entries(o.inputData).reduce((function(e,t){var n=X(t,2),r=n[0],o=n[1];return void 0!==i[r]&&(e[r]=o),e}),{}),u=sc(sc({},i),c);return e[o.id]=sc(sc({},o),{},{inputData:u}),e}),{});return Object.values(i).reduce((function(e,n){var r=sc({},n),o=t[n.type];return o.root!==n.root&&(o.root&&!n.root?r.root=o.root:!o.root&&n.root&&delete r.root),e[n.id]=r,e}),{})}(e,n,r,o);return sc(sc({},a),t.reduce((function(t,a,i){return!Object.values(e).find((function(e){return e.type===a.type}))&&(t=gc(t,{type:dc.ADD_NODE,id:"default-".concat(i),defaultNode:!0,x:a.x||0,y:a.y||0,nodeType:a.type},{nodeTypes:n,portTypes:r,context:o})),t}),{}))},mc=function(e){var t=e.node,n=e.nodeType,r=e.portTypes,o=e.context;return(Array.isArray(n.inputs)?n.inputs:n.inputs(t.inputData,t.connections,o)).reduce((function(e,t){var n=r[t.type];return e[t.name||n.name]=(t.controls||n.controls||[]).reduce((function(e,t){return e[t.name]=t.defaultValue,e}),{}),e}),{})};!function(e){e.ADD_CONNECTION="ADD_CONNECTION",e.REMOVE_CONNECTION="REMOVE_CONNECTION",e.DESTROY_TRANSPUT="DESTROY_TRANSPUT",e.ADD_NODE="ADD_NODE",e.REMOVE_NODE="REMOVE_NODE",e.HYDRATE_DEFAULT_NODES="HYDRATE_DEFAULT_NODES",e.SET_PORT_DATA="SET_PORT_DATA",e.SET_NODE_COORDINATES="SET_NODE_COORDINATES"}(dc||(dc={}));var hc,gc=function(e,t,n,r){var o=n.nodeTypes,a=n.portTypes,i=n.cache,c=n.circularBehavior,u=n.context;switch(t.type){case dc.ADD_CONNECTION:var l=t.input,s=t.output;if(!e[l.nodeId].connections.inputs[l.portName]){var d="warn"===c||"allow"===c,p=function(e,t,n){var r;return sc(sc({},e),{},(H(r={},t.nodeId,sc(sc({},e[t.nodeId]),{},{connections:sc(sc({},e[t.nodeId].connections),{},{inputs:sc(sc({},e[t.nodeId].connections.inputs),{},H({},t.portName,[].concat(Ri(e[t.nodeId].connections.inputs[t.portName]||[]),[{nodeId:n.nodeId,portName:n.portName}])))})})),H(r,n.nodeId,sc(sc({},e[n.nodeId]),{},{connections:sc(sc({},e[n.nodeId].connections),{},{outputs:sc(sc({},e[n.nodeId].connections.outputs),{},H({},n.portName,[].concat(Ri(e[n.nodeId].connections.outputs[n.portName]||[]),[{nodeId:t.nodeId,portName:t.portName}])))})})),r))}(e,l,s),f=function(e,t){var n=!1;return function r(o){for(var a=Object.values(e[o].connections.outputs),i=0;i<a.length&&!n;i++)for(var c=a[i],u=0;u<c.length;u++){var l=c[u];if(l.nodeId===t){n=!0;break}r(l.nodeId)}}(t),n}(p,s.nodeId);return f&&!d?(null==r||r({type:Zi.ADD_TOAST,title:"Unable to connect",message:"Connecting these nodes would result in an infinite loop.",toastType:"warning",duration:5e3}),e):(f&&"warn"===c&&(null==r||r({type:Zi.ADD_TOAST,title:"Circular Connection Detected",message:"Connecting these nodes has created an infinite loop.",toastType:"warning",duration:5e3})),p)}return e;case dc.REMOVE_CONNECTION:var v,b=t.input,y=t.output,m=y.nodeId+y.portName+b.nodeId+b.portName;return null==i||(null===(v=i.current)||void 0===v||delete v.connections[m]),nc({id:m}),pc(e,b,y);case dc.DESTROY_TRANSPUT:var h,g=t.transput,_=t.transputType,x=g.nodeId+g.portName+_;null==i||(null===(h=i.current)||void 0===h||delete h.ports[x]);var E="input"===_?"inputs":"outputs",A=e[g.nodeId].connections[E][g.portName];return A&&A.length?A.reduce((function(e,t){var n,r=X("input"===_?[g,t]:[t,g],2),o=r[0],a=r[1],c=a.nodeId+a.portName+o.nodeId+o.portName;return null==i||(null===(n=i.current)||void 0===n||delete n.connections[c]),nc({id:c}),pc(e,o,a)}),e):e;case dc.ADD_NODE:var O=t.x,w=t.y,C=t.nodeType,j=t.id,S=t.defaultNode,T=j||tt(10),N={id:T,x:O,y:w,type:C,width:o[C].initialWidth||200,connections:{inputs:{},outputs:{}},inputData:{}};return N.inputData=mc({node:N,nodeType:o[C],portTypes:a,context:u}),S&&(N.defaultNode=!0),o[C].root&&(N.root=!0),sc(sc({},e),{},H({},T,N));case dc.REMOVE_NODE:var P=t.nodeId;return bc(e,P);case dc.HYDRATE_DEFAULT_NODES:var k=sc({},e);for(var D in k)if(k[D].defaultNode){var I=tt(10),B=k[D];B.id,B.defaultNode;var R=ft(B,cc);k[I]=sc(sc({},R),{},{id:I}),delete k[D]}return k;case dc.SET_PORT_DATA:var M=t.nodeId,L=t.portName,z=t.controlName,F=t.data,q=t.setValue,W=sc(sc({},e[M].inputData),{},H({},L,sc(sc({},e[M].inputData[L]),{},H({},z,F))));return q&&(W=q(W,e[M].inputData)),sc(sc({},e),{},H({},M,sc(sc({},e[M]),{},{inputData:W})));case dc.SET_NODE_COORDINATES:var Y=t.x,V=t.y,U=t.nodeId;return sc(sc({},e),{},H({},U,sc(sc({},e[U]),{},{x:Y,y:V})));default:return e}},_c=["isNew"];function xc(e){var t=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bi(t)?t:String(t)}function Ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ec(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ADD_COMMENT="ADD_COMMENT",e.REMOVE_COMMENT_NEW="REMOVE_COMMENT_NEW",e.SET_COMMENT_COORDINATES="SET_COMMENT_COORDINATES",e.SET_COMMENT_DIMENSIONS="SET_COMMENT_DIMENSIONS",e.SET_COMMENT_TEXT="SET_COMMENT_TEXT",e.SET_COMMENT_COLOR="SET_COMMENT_COLOR",e.DELETE_COMMENT="DELETE_COMMENT"}(hc||(hc={}));var Oc,wc=function(e,t,n){return Ac(Ac({},e),{},H({},t,Ac(Ac({},e[t]),n)))},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case hc.ADD_COMMENT:var n={id:tt(10),text:"",x:t.x,y:t.y,width:200,height:30,color:"blue",isNew:!0};return Ac(Ac({},e),{},H({},n.id,n));case hc.REMOVE_COMMENT_NEW:var r=e[t.id];r.isNew;var o=ft(r,_c);return Ac(Ac({},e),{},H({},t.id,o));case hc.SET_COMMENT_COORDINATES:return wc(e,t.id,{x:t.x,y:t.y});case hc.SET_COMMENT_DIMENSIONS:return wc(e,t.id,{width:t.width,height:t.height});case hc.SET_COMMENT_TEXT:return wc(e,t.id,{text:t.text});case hc.SET_COMMENT_COLOR:return wc(e,t.id,{color:t.color});case hc.DELETE_COMMENT:var a=t.id;return e[a],ft(e,[a].map(xc));default:return e}};function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SET_SCALE="SET_SCALE",e.SET_TRANSLATE="SET_TRANSLATE",e.SET_TRANSLATE_SCALE="SET_TRANSLATE_SCALE"}(Oc||(Oc={}));var Tc=function(e,t){var n="function"==typeof t?t(e):t;switch(n.type){case Oc.SET_SCALE:return Sc(Sc({},e),{},{scale:n.scale});case Oc.SET_TRANSLATE:return Sc(Sc({},e),{},{translate:n.translate});case Oc.SET_TRANSLATE_SCALE:return Sc(Sc({},e),{},{translate:n.translate,scale:n.scale});default:return e}},Nc=function(e){var t=e.scale,n=e.translate,r=e.editorId,o=e.dispatchStageState,a=e.children,i=e.outerStageChildren,c=e.numNodes,l=e.stageRef,s=e.spaceToPan,d=e.dispatchComments,p=e.disableComments,f=e.disablePan,v=e.disableZoom,b=u().useContext(ot),y=u().useContext(it),m=u().useRef(null),h=u().useRef(null),g=X(u().useState(!1),2),_=g[0],x=g[1],E=X(u().useState({x:0,y:0}),2),A=E[0],O=E[1],w=u().useRef({x:0,y:0}),C=X(u().useState(!1),2),j=C[0],S=C[1],T=u().useCallback((function(){m.current&&(l.current=m.current.getBoundingClientRect())}),[]);u().useEffect((function(){return m.current&&(l.current=m.current.getBoundingClientRect()),window.addEventListener("resize",T),function(){window.removeEventListener("resize",T)}}),[l,T]);var N=u().useCallback((function(e){var t,n=e.target;if(!(("TEXTAREA"===n.nodeName||n.dataset.comment)&&n.clientHeight<n.scrollHeight||(e.preventDefault(),0===c))){var r=null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect();r&&o((function(t){var n=t.scale,o=t.translate,a=e.deltaY,i=et(n-.005*et(a,-10,10),.1,7),c=function(e){return e*(1/n)},u=function(e){return e*(1/i)},l=c(e.clientX-r.x-r.width/2+o.x),s=c(e.clientY-r.y-r.height/2+o.y),d=l-u(e.clientX-r.x-r.width/2+o.x),p=s-u(e.clientY-r.y-r.height/2+o.y);return{type:Oc.SET_TRANSLATE_SCALE,scale:i,translate:{x:o.x+d*i,y:o.y+p*i}}}))}}),[o,c]),P=function(e){return 1/t*e},k=function e(t){32===t.which&&(S(!1),document.removeEventListener("keyup",e))};u().useEffect((function(){if(!v){var e=m.current;return null==e||e.addEventListener("wheel",N),function(){null==e||e.removeEventListener("wheel",N)}}}),[N,v]);var D=u().useMemo((function(){var e=Pi(Object.values(b||{}).filter((function(e){return!1!==e.addable})).map((function(e){return{value:e.type,label:e.label,description:e.description,sortIndex:e.sortIndex,node:e}})),["sortIndex","label"]);return p||e.push({value:"comment",label:"Comment",description:"A comment for documenting nodes",internalType:"comment"}),e}),[b,p]);return u().createElement(yt,{"data-flume-component":"stage",id:"".concat(ki).concat(r),className:te,innerRef:m,onContextMenu:function(e){return e.preventDefault(),O({x:e.clientX,y:e.clientY}),x(!0),!1},onMouseEnter:function(){var e,t;null!==(e=m.current)&&void 0!==e&&e.contains(document.activeElement)||(null===(t=m.current)||void 0===t||t.focus({preventScroll:!0}))},onDragDelayStart:function(){var e;null===(e=m.current)||void 0===e||e.focus()},onDragStart:function(e){var t=e;t.preventDefault(),w.current={x:t.clientX,y:t.clientY}},onDrag:function(e,t){var r=w.current.x-t.clientX,o=w.current.y-t.clientY,a=n.x+r,i=n.y+o;m.current&&(m.current.style.backgroundPosition="".concat(-a,"px ").concat(-i,"px")),h.current&&(h.current.style.transform="translate(".concat(-(n.x+r),"px, ").concat(-(n.y+o),"px)"))},onDragEnd:function(e){var t=w.current.x-e.clientX,n=w.current.y-e.clientY;w.current.x=e.clientX,w.current.y=e.clientY,o((function(e){var r=e.translate;return{type:Oc.SET_TRANSLATE,translate:{x:r.x+t,y:r.y+n}}}))},onKeyDown:function(e){32===e.which&&document.activeElement===m.current&&(e.preventDefault(),e.stopPropagation(),S(!0),document.addEventListener("keyup",k))},tabIndex:-1,stageState:{scale:t,translate:n},style:{cursor:j&&s?"grab":""},disabled:f||s&&!j,"data-flume-stage":!0},_?u().createElement(de,null,u().createElement(nt,{x:A.x,y:A.y,options:D,onRequestClose:function(){x(!1)},onOptionSelected:function(e){var t,r=e.node,o=e.internalType,a=null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect();if(a){var i=P(A.x-a.x-a.width/2)+P(n.x),c=P(A.y-a.y-a.height/2)+P(n.y);"comment"===o?d({type:hc.ADD_COMMENT,x:i,y:c}):null==y||y({type:dc.ADD_NODE,x:i,y:c,nodeType:(null==r?void 0:r.type)||""})}},label:"Add Node"})):null,u().createElement("div",{ref:h,className:ne,style:{transform:"translate(".concat(-n.x,"px, ").concat(-n.y,"px)")}},u().createElement("div",{className:re,style:{transform:"scale(".concat(t,")")}},a)),i)},Pc="Node_wrapper__3SmT7",kc="Node_label__3MmhF";ee(".Node_wrapper__3SmT7 {\n  background: rgba(114, 120, 124, 0.9);\n  border-radius: 5px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.4);\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n  z-index: 1;\n  cursor: default;\n}\n.Node_label__3MmhF {\n  font-size: 13px;\n  text-transform: uppercase;\n  padding: 5px;\n  background: #53585a;\n  border-radius: 5px 5px 0px 0px;\n  margin: 0px;\n  margin-bottom: 3px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.15);\n}\n");var Dc="IoPorts_wrapper__3d2hh",Ic="IoPorts_inputs__2etkb",Bc="IoPorts_transput__1wbHA",Rc="IoPorts_portLabel__qOE7y",Mc="IoPorts_port__1_a6J",Lc="IoPorts_outputs__3JGh-",zc="IoPorts_controls__1dKFt";ee('.IoPorts_wrapper__3d2hh{\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  width: 100%;\n  padding: 5px;\n}\n.IoPorts_inputs__2etkb{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  width: 100%;\n  margin-bottom: 10px;\n}\n.IoPorts_inputs__2etkb:last-child{\n    margin-bottom: 0px;\n  }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:first-child .IoPorts_port__1_a6J{\n        margin-top: 5px;\n      }\n.IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_inputs__2etkb .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-{\n  display: flex;\n  flex-direction: column;\n  margin-left: auto;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n}\n.IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_portLabel__qOE7y, .IoPorts_outputs__3JGh- .IoPorts_transput__1wbHA:last-child .IoPorts_port__1_a6J{\n        margin-bottom: 5px;\n      }\n.IoPorts_outputs__3JGh-:first-child{\n    margin-top: 5px;\n  }\n.IoPorts_transput__1wbHA{\n  display: flex;\n  align-items: center;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n.IoPorts_transput__1wbHA:first-child{\n    margin-top: 0px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]{\n    margin-top: 6px;\n    margin-bottom: 6px;\n  }\n.IoPorts_transput__1wbHA[data-controlless="true"]:first-child{\n      margin-top: 0px;\n    }\n.IoPorts_transput__1wbHA[data-controlless="false"]{\n    margin-top: 2px;\n    margin-bottom: 2px;\n  }\n.IoPorts_controls__1dKFt{\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n.IoPorts_portLabel__qOE7y{\n  font-size: 13px;\n  font-weight: 400;\n}\n.IoPorts_port__1_a6J{\n  width: 12px;\n  height: 12px;\n  background: linear-gradient(to bottom, #acb1b4, #919699);\n  border-radius: 100%;\n  margin-right: 5px;\n  margin-left: -11px;\n  flex: 0 0 auto;\n  box-shadow: 0px 2px 1px 0px rgba(0,0,0,.6);\n}\n.IoPorts_port__1_a6J:last-child{\n    margin-right: -11px;\n    margin-left: 5px;\n  }\n.IoPorts_port__1_a6J[data-port-color="red"]{\n    background: linear-gradient(to bottom, #fa4a6f, #c22e4d);\n  }\n.IoPorts_port__1_a6J[data-port-color="purple"]{\n    background: linear-gradient(to bottom, #9e55fb, #6024b6);\n  }\n.IoPorts_port__1_a6J[data-port-color="blue"]{\n    background: linear-gradient(to bottom, #4284f7, #2867d4);\n  }\n.IoPorts_port__1_a6J[data-port-color="green"]{\n    background: linear-gradient(to bottom, #31dd9f, #11ad7a);\n  }\n.IoPorts_port__1_a6J[data-port-color="yellow"]{\n    background: linear-gradient(to bottom, #d6bf47, #9d8923);\n  }\n.IoPorts_port__1_a6J[data-port-color="orange"]{\n    background: linear-gradient(to bottom, #fa7841, #c94b23);\n  }\n.IoPorts_port__1_a6J[data-port-color="pink"]{\n    background: linear-gradient(to bottom, #fe8aeb, #e046c3);\n  }\n');var Fc="Control_wrapper__VZIiC",qc="Control_controlLabel__3ga2-";ee(".Control_wrapper__VZIiC {\n  width: 100%;\n  padding-right: 3px;\n  padding-top: 3px;\n  padding-bottom: 5px;\n}\n.Control_label__1OX-Q {\n  font-size: 14px;\n}\n.Control_controlLabel__3ga2- {\n  font-size: 13px;\n  display: inline-block;\n  margin-left: 2px;\n}\n");var Wc="Checkbox_wrapper__aSqyY",Yc="Checkbox_checkbox__Qv5gn",Hc="Checkbox_label__2RxP-";ee(".Checkbox_wrapper__aSqyY{\n  display: flex;\n  align-items: center;\n}\n.Checkbox_checkbox__Qv5gn{\n  background: linear-gradient(to bottom, #5b5f62, #6f7477);\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  margin-right: 8px;\n}\n.Checkbox_label__2RxP-{\n  padding-top: 2px;\n  font-size: 13px;\n}\n");var Vc=function(e){var t=e.label,n=e.data,r=e.onChange,o=u().useRef(tt(10));return u().createElement("div",{className:Wc},u().createElement("input",{"data-flume-component":"checkbox",className:Yc,type:"checkbox",id:o.current,checked:n,onChange:function(e){return r(e.target.checked)}}),u().createElement("label",{"data-flume-component":"checkbox-label",className:Hc,htmlFor:o.current},t))},Uc="TextInput_wrapper__tefOZ",Xc="TextInput_input__1QHwS";ee(".TextInput_wrapper__tefOZ {\n  background: none;\n  border: none;\n}\n.TextInput_input__1QHwS {\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  border-radius: 4px;\n  font-size: 13px;\n  padding: 5px;\n  resize: vertical;\n  outline: none;\n}\n.TextInput_input__1QHwS::placeholder {\n    color: rgb(47, 49, 50);\n  }\n.TextInput_input__1QHwS:focus {\n    background: linear-gradient(to bottom, #7c8286, #99a0a4);\n  }\n");var Kc=function(e){var t=e.placeholder,n=e.updateNodeConnections,r=e.onChange,o=e.data,a=e.step,i=e.type,c=u().useRef(null),l=u().useContext(dt),s=function e(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",e)},d=function(e){e.stopPropagation(),n()},p=function(e){e.stopPropagation(),null==l||l(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",s)};return u().createElement("div",{className:Uc,"data-flume-component":"text-input"},"number"===i?u().createElement("input",{"data-flume-component":"text-input-number",onKeyDown:function(e){if(69===e.keyCode)return e.preventDefault(),!1},onChange:function(e){var t=e.target.value.replace(/e/g,"");if(t){var n=parseFloat(t);Number.isNaN(n)?r(0):(r(n),c.current&&(c.current.value=n.toString()))}},onBlur:function(e){e.target.value||(r(0),c.current&&(c.current.value="0"))},step:a||"1",onMouseDown:p,type:i||"text",placeholder:t,className:Xc,defaultValue:o,onDragStart:function(e){return e.stopPropagation()},ref:c}):u().createElement("textarea",{"data-flume-component":"text-input-textarea",onChange:function(e){return r(e.target.value)},onMouseDown:p,placeholder:t,className:Xc,value:o,onDragStart:function(e){return e.stopPropagation()}}))},Jc="Select_wrapper__eAPoQ",Qc="Select_chipWrapper__3hK2u",Gc="Select_deleteButton__1FnLK",Zc="Select_chipsWrapper__4Alw8",$c="Select_selectedWrapper__SUs4D";function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ee('.Select_wrapper__eAPoQ {\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to bottom, #6c7073, #838a8e);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  padding-right: 15px;\n  position: relative;\n}\n  .Select_wrapper__eAPoQ::after {\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: 8px;\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n  .Select_wrapper__eAPoQ:hover {\n    background: linear-gradient(to bottom, #7c8387, #969da1);\n  }\n.Select_chipWrapper__3hK2u {\n  font-size: 14px;\n  padding: 3px 6px;\n  border-radius: 4px;\n  background: linear-gradient(to top, #63676a, #787d80);\n  border: 1px solid #3c3e40;\n  margin: 2px;\n  position: relative;\n}\n.Select_chipWrapper__3hK2u:hover .Select_deleteButton__1FnLK {\n  opacity: 1;\n}\n.Select_chipsWrapper__4Alw8 {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 6px;\n}\n.Select_deleteButton__1FnLK {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n  width: 22px;\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  border-radius: 3px;\n  border: none;\n  font-weight: bold;\n  opacity: 0;\n}\n.Select_deleteButton__1FnLK:focus {\n  opacity: 1;\n}\n.Select_deleteButton__1FnLK:hover {\n  background: linear-gradient(to top, #64696c, #797f82);\n}\n.Select_selectedWrapper__SUs4D {\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background: linear-gradient(to top, #5b5f62, #6f7477);\n  width: 100%;\n  border: 1px solid #3c3e40;\n  font-size: 14px;\n  padding: 3px 6px;\n  padding-right: 15px;\n  position: relative;\n}\n.Select_selectedWrapper__SUs4D::after {\n    content: "";\n    position: absolute;\n    background: none;\n    right: 5px;\n    top: calc(50% - 4px);\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 6px 5px 0 5px;\n    border-color: #191b1c transparent transparent transparent;\n  }\n.Select_selectedWrapper__SUs4D label {\n    margin: 0px;\n  }\n.Select_selectedWrapper__SUs4D p {\n    margin: 0px;\n    margin-top: 5px;\n    font-size: 12px;\n    font-style: italic;\n    color: rgb(50, 50, 50);\n  }\n');var nu=function(e){var t=e.options,n=void 0===t?[]:t,r=e.placeholder,o=void 0===r?"[Select an option]":r,a=e.onChange,i=e.data,c=e.allowMultiple,l=void 0!==c&&c,s=X(u().useState(!1),2),d=s[0],p=s[1],f=X(u().useState({x:0,y:0}),2),v=f[0],b=f[1],y=u().useRef(null),m=function(){if(!d){var e,t=null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect();t&&(b({x:t.x,y:t.y+t.height}),p(!0))}},h=u().useMemo((function(){var e=n.find((function(e){return e.value===i}));if(e)return tu(tu({},e),{},{label:e.label.length>50?e.label.slice(0,50)+"...":e.label})}),[n,i]);return u().createElement(u().Fragment,null,l&&"string"!=typeof i?i.length?u().createElement("div",{className:Zc},i.map((function(e,t){var r=(n.find((function(t){return t.value===e}))||{}).label||"";return u().createElement(ou,{onRequestDelete:function(){return e=t,void a([].concat(Ri(i.slice(0,e)),Ri(i.slice(e+1))));var e},key:e},r)}))):null:i?u().createElement(ru,{wrapperRef:y,option:h,onClick:m}):null,(l||!i)&&u().createElement("div",{className:Jc,ref:y,onClick:m},o),d&&u().createElement(de,null,u().createElement(nt,{x:v.x,y:v.y,emptyText:"There are no options",options:l?n.filter((function(e){return!i.includes(e.value)})):n,onOptionSelected:function(e){l&&Array.isArray(i)?a([].concat(Ri(i),[e.value])):a(e.value)},onRequestClose:function(){p(!1)}})))},ru=function(e){var t=e.option,n=(t=void 0===t?{label:"",description:"",value:""}:t).label,r=t.description,o=e.wrapperRef,a=e.onClick;return u().createElement("div",{className:$c,onClick:a,ref:o,"data-flume-component":"select"},u().createElement("label",{"data-flume-component":"select-label"},n),r?u().createElement("p",{"data-flume-component":"select-desc"},r):null)},ou=function(e){var t=e.children,n=e.onRequestDelete;return u().createElement("div",{className:Qc},t,u().createElement("button",{className:Gc,onMouseDown:function(e){e.stopPropagation()},onClick:n},"✕"))};function au(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?au(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):au(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cu=function(e){var t=e.type,n=e.name,r=e.nodeId,o=e.portName,a=e.label,i=e.inputLabel,c=e.data,l=e.allData,s=e.inputData,d=e.triggerRecalculation,p=e.updateNodeConnections,f=e.setValue,v=e.defaultValue,b=e.isMonoControl,y=u().useContext(it),m=u().useContext(ut),h=b?i:a,g=function(e){y&&y({type:dc.SET_PORT_DATA,data:e,nodeId:r,portName:o,controlName:n,setValue:f}),d()};return u().createElement("div",{className:Fc,"data-flume-component":"control"},h&&"checkbox"!==t&&"custom"!==t&&u().createElement("label",{"data-flume-component":"control-label",className:qc},h),function(t){var r={triggerRecalculation:d,updateNodeConnections:p,onChange:g,data:c};switch(t){case"select":var f=e.options,b=e.getOptions,y=e.placeholder;return u().createElement(nu,iu(iu({},r),{},{options:b?b(s,m):f,placeholder:y}));case"text":var _=e.placeholder;return u().createElement(Kc,iu(iu({},r),{},{placeholder:_}));case"number":var x=e.step,E=e.placeholder;return u().createElement(Kc,iu(iu({},r),{},{step:x,type:"number",placeholder:E}));case"checkbox":return u().createElement(Vc,iu(iu({},r),{},{label:h}));case"multiselect":var A=e.options,O=e.getOptions,w=e.placeholder;return u().createElement(nu,iu(iu({allowMultiple:!0},r),{},{options:O?O(s,m):A,placeholder:w}));case"custom":var C,j=e.render;return null!==(C=null==j?void 0:j(c,g,m,d,{label:a,name:n,portName:o,inputLabel:i,defaultValue:v},l))&&void 0!==C?C:null;default:return u().createElement("div",null,"Control")}}(t))},uu=function(e){var t=e.from,n=e.to,r=e.id,o=e.lineRef,a=e.outputNodeId,i=e.outputPortName,c=e.inputNodeId,l=e.inputPortName,s=tc(t,n);return u().createElement("svg",{className:Mi,"data-flume-component":"connection-svg"},u().createElement("path",{"data-connection-id":r,"data-output-node-id":a,"data-output-port-name":i,"data-input-node-id":c,"data-input-port-name":l,"data-flume-component":"connection-path",stroke:"rgb(185, 186, 189)",fill:"none",strokeWidth:3,strokeLinecap:"round",d:s,ref:o}))},lu=function(e){var t=u().useRef();return u().useEffect((function(){t.current=e}),[t.current]),t.current};function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function fu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vu(e,t,n,r,o){var a=u().useContext(it),i=u().useContext(ut),c=u().useMemo((function(){return Array.isArray(e)?e:e(r,o,i)}),[e,r,o,i]),l=lu(c);return u().useEffect((function(){if(l&&!Array.isArray(e)){var r,o=pu(l);try{var i=function(){var e=r.value,o=c.find((function(t){var n=t.name;return e.name===n}));o||null==a||a({type:dc.DESTROY_TRANSPUT,transputType:t,transput:{nodeId:n,portName:""+e.name}})};for(o.s();!(r=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}}),[e,c,l,a,n,t]),c}var bu=function(e){var t=e.nodeId,n=e.inputs,r=void 0===n?[]:n,o=e.outputs,a=void 0===o?[]:o,i=e.connections,c=e.inputData,l=e.updateNodeConnections,s=u().useContext(at),d=u().useContext(ct),p=vu(r,"input",t,c,i),f=vu(a,"output",t,c,i);return u().createElement("div",{className:Dc,"data-flume-component":"ports"},p.length?u().createElement("div",{className:Ic,"data-flume-component":"ports-inputs"},p.map((function(e){return u().createElement(yu,du(du({},e),{},{data:c[e.name]||{},isConnected:!!i.inputs[e.name],triggerRecalculation:null!=d?d:function(){},updateNodeConnections:l,inputTypes:null!=s?s:{},nodeId:t,inputData:c,key:e.name}))}))):null,!!f.length&&u().createElement("div",{className:Lc,"data-flume-component":"ports-outputs"},f.map((function(e){return u().createElement(mu,du(du({},e),{},{triggerRecalculation:d,inputTypes:s,nodeId:t,key:e.name}))}))))},yu=function(e){var t=e.type,n=e.label,r=e.name,o=e.nodeId,a=e.data,i=e.controls,c=e.inputTypes,l=e.noControls,s=e.triggerRecalculation,d=e.updateNodeConnections,p=e.isConnected,f=e.inputData,v=e.hidePort,b=c[t]||{},y=b.label,m=b.color,h=b.controls,g=void 0===h?[]:h,_=lu(p),x=i||g;return u().useEffect((function(){p!==_&&s()}),[p,_,s]),u().createElement("div",{"data-flume-component":"port-input",className:Bc,"data-controlless":p||l||!x.length,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},v?null:u().createElement(hu,{type:t,color:m,name:r,nodeId:o,isInput:!0,triggerRecalculation:s}),(!x.length||l||p)&&u().createElement("label",{"data-flume-component":"port-label",className:Rc},n||y),l||p?null:u().createElement("div",{className:zc},x.map((function(e){return u().createElement(cu,du(du({},e),{},{nodeId:o,portName:r,triggerRecalculation:s,updateNodeConnections:d,inputLabel:n,data:a[e.name],allData:a,key:e.name,inputData:f,isMonoControl:1===x.length}))}))))},mu=function(e){var t=e.label,n=e.name,r=e.nodeId,o=e.type,a=e.inputTypes,i=e.triggerRecalculation,c=a[o]||{},l=c.label,s=c.color;return u().createElement("div",{"data-flume-component":"port-output",className:Bc,"data-controlless":!0,onDragStart:function(e){e.preventDefault(),e.stopPropagation()}},u().createElement("label",{"data-flume-component":"port-label",className:Rc},t||l),u().createElement(hu,{type:o,name:n,color:s,nodeId:r,triggerRecalculation:i}))},hu=function(e){var t=e.color,n=void 0===t?"grey":t,r=e.name,o=void 0===r?"":r,a=e.type,i=e.isInput,c=e.nodeId,l=e.triggerRecalculation,s=u().useContext(it),d=u().useContext(lt)||{scale:1,translate:{x:0,y:0}},p=u().useContext(pt),f="".concat(ki).concat(p),v=u().useContext(at)||{},b=X(u().useState(!1),2),y=b[0],m=b[1],h=X(u().useState({x:0,y:0}),2),g=h[0],_=h[1],x=u().useRef(g),E=u().useRef(null),A=u().useRef(null),O=u().useRef(null),w=function(e){var t;return 1/(null!==(t=null==d?void 0:d.scale)&&void 0!==t?t:1)*e},C=function(e){var t,n,r=null!==(t=null===(n=document.getElementById(f))||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==t?t:{x:0,y:0,width:0,height:0},o=r.x,a=r.y,c=r.width,u=r.height;if(i){var l,s,p,v,b,y={x:w(e.clientX-o-c/2)+w(null!==(l=null==d||null===(s=d.translate)||void 0===s?void 0:s.x)&&void 0!==l?l:1),y:w(e.clientY-a-u/2)+w(null!==(p=null==d||null===(v=d.translate)||void 0===v?void 0:v.y)&&void 0!==p?p:1)};null===(b=O.current)||void 0===b||b.setAttribute("d",tc(x.current,y))}else{var m,h,g,_,E,C={x:w(e.clientX-o-c/2)+w(null!==(m=null==d||null===(h=d.translate)||void 0===h?void 0:h.x)&&void 0!==m?m:1),y:w(e.clientY-a-u/2)+w(null!==(g=null==d||null===(_=d.translate)||void 0===_?void 0:_.y)&&void 0!==g?g:1)};null===(E=A.current)||void 0===E||E.setAttribute("d",tc(x.current,C))}},j=function e(t){var n=!!t.target.dataset.portName;if(i){var r,u,d=null!==(r=null===(u=O.current)||void 0===u?void 0:u.dataset)&&void 0!==r?r:{},p=d.inputNodeId,f=void 0===p?"":p,b=d.inputPortName,y=void 0===b?"":b,h=d.outputNodeId,g=void 0===h?"":h,_=d.outputPortName,x=void 0===_?"":_;if(null==s||s({type:dc.REMOVE_CONNECTION,input:{nodeId:f,portName:y},output:{nodeId:g,portName:x}}),n){var E=t.target.dataset,A=E.portName,w=E.nodeId,j=E.portType,S=E.portTransputType;if(g!==w&&"output"!==S)v[j].acceptTypes.includes(a)&&(null==s||s({type:dc.ADD_CONNECTION,input:{nodeId:w,portName:A},output:{nodeId:g,portName:x}}))}}else if(n){var T=t.target.dataset,N=T.portName,P=T.nodeId,k=T.portType,D=T.portTransputType;if(P!==c&&"output"!==D)v[k].acceptTypes.includes(a)&&(null==s||s({type:dc.ADD_CONNECTION,output:{nodeId:c,portName:o},input:{nodeId:P,portName:N}}),l())}m(!1),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",C)};return u().createElement(u().Fragment,null,u().createElement("div",{style:{zIndex:999},onMouseDown:function(e){var t,n;e.preventDefault(),e.stopPropagation();var r=(null===(t=E.current)||void 0===t?void 0:t.getBoundingClientRect())||{},a=r.x,u=void 0===a?0:a,l=r.y,s=void 0===l?0:l,p=r.width,v=void 0===p?0:p;r.height;var b=(null===(n=document.getElementById(f))||void 0===n?void 0:n.getBoundingClientRect())||{},y=b.x,h=void 0===y?0:y,g=b.y,A=void 0===g?0:g,S=b.width,T=void 0===S?0:S,N=b.height,P=void 0===N?0:N;if(i){if(O.current=document.querySelector('[data-input-node-id="'.concat(c,'"][data-input-port-name="').concat(o,'"]')),!!O.current&&O.current&&O.current.parentElement){O.current.parentElement.style.zIndex="9999";var k=ec(O.current.dataset.outputNodeId||"",O.current.dataset.outputPortName||"","output")||{},D=k.x,I=void 0===D?0:D,B=k.y,R=void 0===B?0:B,M=k.width,L=void 0===M?0:M;k.height;var z={x:w(I-h+L/2-T/2)+w(d.translate.x),y:w(R-A+L/2-P/2)+w(d.translate.y)};_(z),x.current=z,m(!0),document.addEventListener("mouseup",j),document.addEventListener("mousemove",C)}}else{var F={x:w(u-h+v/2-T/2)+w(d.translate.x),y:w(s-A+v/2-P/2)+w(d.translate.y)};_(F),x.current=F,m(!0),document.addEventListener("mouseup",j),document.addEventListener("mousemove",C)}},className:Mc,"data-port-color":n,"data-port-name":o,"data-port-type":a,"data-port-transput-type":i?"input":"output","data-node-id":c,"data-flume-component":"port-handle",onDragStart:function(e){e.preventDefault(),e.stopPropagation()},ref:E}),y&&!i?u().createElement(de,{node:document.getElementById("".concat(Di).concat(p))},u().createElement(uu,{from:g,to:g,lineRef:A})):null)},gu=["children","className"];function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Eu=function(e){var t,n,r,o=e.id,a=e.width,i=e.x,c=e.y,l=e.stageRect,s=e.connections,d=e.type,p=e.inputData,f=e.root,v=e.onDragStart,b=e.renderNodeHeader,y=null!==(t=u().useContext(st))&&void 0!==t?t:void 0,m=null!==(n=u().useContext(ot))&&void 0!==n?n:{},h=u().useContext(it),g=null!==(r=u().useContext(lt))&&void 0!==r?r:{scale:0,translate:{x:0,y:0}},_=m[d],x=_.label,E=_.deletable,A=_.inputs,O=void 0===A?[]:A,w=_.outputs,C=void 0===w?[]:w,j=u().useRef(null),S=X(u().useState(!1),2),T=S[0],N=S[1],P=X(u().useState({x:0,y:0}),2),k=P[0],D=P[1],I=function(e){return 1/g.scale*e},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;Object.entries(e).forEach((function(e){var n=X(e,2),r=n[0];n[1].forEach((function(e){var n,a,i,c,u,s,d,p,f,v,b,m,h,_,x,E,A,O,w,C,j,S,T,N,P,k=ec(o,r,t?"output":"input",y),D=ec(e.nodeId,e.portName,t?"input":"output",y),B=(null!==(n=null==D?void 0:D.width)&&void 0!==n?n:0)/2;N=t?o+r+e.nodeId+e.portName:e.nodeId+e.portName+o+r;var R=null==y||null===(a=y.current)||void 0===a?void 0:a.connections[N];R?P=R:(P=document.querySelector('[data-connection-id="'.concat(N,'"]')))&&y&&y.current&&(y.current.connections[N]=P);var M={x:I((null!==(i=null==k?void 0:k.x)&&void 0!==i?i:0)-(null!==(c=null===(u=l.current)||void 0===u?void 0:u.x)&&void 0!==c?c:0)+B-(null!==(s=null===(d=l.current)||void 0===d?void 0:d.width)&&void 0!==s?s:0)/2)+I(g.translate.x),y:I((null!==(p=null==k?void 0:k.y)&&void 0!==p?p:0)-(null!==(f=null===(v=l.current)||void 0===v?void 0:v.y)&&void 0!==f?f:0)+B-(null!==(b=null===(m=l.current)||void 0===m?void 0:m.height)&&void 0!==b?b:0)/2)+I(g.translate.y)},L={x:I((null!==(h=null==D?void 0:D.x)&&void 0!==h?h:0)-(null!==(_=null===(x=l.current)||void 0===x?void 0:x.x)&&void 0!==_?_:0)+B-(null!==(E=null===(A=l.current)||void 0===A?void 0:A.width)&&void 0!==E?E:0)/2)+I(g.translate.x),y:I((null!==(O=null==D?void 0:D.y)&&void 0!==O?O:0)-(null!==(w=null===(C=l.current)||void 0===C?void 0:C.y)&&void 0!==w?w:0)+B-(null!==(j=null===(S=l.current)||void 0===S?void 0:S.height)&&void 0!==j?j:0)/2)+I(g.translate.y)};null===(T=P)||void 0===T||T.setAttribute("d",tc(M,L))}))}))},R=function(){s&&(B(s.inputs),B(s.outputs,!0))},M=function(e){return e.preventDefault(),e.stopPropagation(),D({x:e.clientX,y:e.clientY}),N(!0),!1},L=function(){N(!1)},z=function(){null==h||h({type:dc.REMOVE_NODE,nodeId:o})};return u().createElement(yt,{className:Pc,style:{width:a,transform:"translate(".concat(i,"px, ").concat(c,"px)")},onDragStart:function(){v()},onDrag:function(e){var t=e.x,n=e.y;j.current&&(j.current.style.transform="translate(".concat(t,"px,").concat(n,"px)"),R())},onDragEnd:function(e,t){null==h||h(xu(xu({type:dc.SET_NODE_COORDINATES},t),{},{nodeId:o}))},innerRef:j,"data-node-id":o,"data-flume-component":"node","data-flume-node-type":_.type,"data-flume-component-is-root":!!f,onContextMenu:M,stageState:g,stageRect:l},b?b(Au,_,{openMenu:M,closeMenu:L,deleteNode:z}):u().createElement(Au,null,x),u().createElement(bu,{nodeId:o,inputs:O,outputs:C,connections:s,updateNodeConnections:R,inputData:p}),T?u().createElement(de,null,u().createElement(nt,{x:k.x,y:k.y,options:Ri(!1!==E?[{label:"Delete Node",value:"deleteNode",description:"Deletes a node and all of its connections."}]:[]),onRequestClose:L,onOptionSelected:function(e){"deleteNode"===e.value&&z()},hideFilter:!0,label:"Node Options",emptyText:"This node has no options."})):null)},Au=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,o=ft(e,gu);return u().createElement("h2",xu(xu({},o),{},{className:kc+(r?" ".concat(r):""),"data-flume-component":"node-header"}),t)},Ou="Comment_wrapper__1Pnbd",wu="Comment_text__Ie2nX",Cu="Comment_resizeThumb__20KWn",ju="Comment_textarea__2Rze3";ee('.Comment_wrapper__1Pnbd {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  padding: 5px;\n  background: rgba(147, 154, 158, 0.7);\n  border-radius: 5px;\n  border-bottom-right-radius: 2px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);\n  min-width: 80px;\n  font-size: 14px;\n  display: flex;\n  text-shadow: 0px 1px rgba(255,255,255,.1);\n  border: 1px solid rgba(168, 176, 181, 0.7);\n  user-select: none;\n}\n  .Comment_wrapper__1Pnbd[data-color="red"]{\n    background: rgba(213, 84, 103, 0.65);\n    border-color: rgba(227, 85, 119, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="purple"]{\n    background: rgba(153, 83, 196, 0.65);\n    border-color: rgba(156, 85, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="blue"]{\n    background: rgba(76, 142, 203, 0.65);\n    border-color: rgba(85, 159, 227, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="green"]{\n    background: rgba(70, 200, 130, 0.65);\n    border-color: rgba(85, 227, 150, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="yellow"]{\n    background: rgba(200, 167, 63, 0.65);\n    border-color: rgba(227, 213, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="orange"]{\n    background: rgba(215, 123, 64, 0.65);\n    border-color: rgba(227, 149, 85, 0.65);\n  }\n  .Comment_wrapper__1Pnbd[data-color="pink"]{\n    background: rgba(255, 102, 208, 0.65);\n    border-color: rgba(242, 131, 228, 0.65);\n  }\n.Comment_text__Ie2nX{\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  white-space: pre-wrap;\n  cursor: default;\n}\n.Comment_resizeThumb__20KWn {\n  width: 10px;\n  height: 10px;\n  border-radius: 4px 0px 4px 0px;\n  position: absolute;\n  right: 0px;\n  bottom: 0px;\n  overflow: hidden;\n  cursor: nwse-resize;\n}\n.Comment_resizeThumb__20KWn::before,\n  .Comment_resizeThumb__20KWn::after {\n    content: "";\n    position: absolute;\n    right: 0px;\n    top: 0px;\n    width: 250%;\n    height: 0px;\n    border-top: 1px solid rgba(0, 0, 0, 0.7);\n    border-bottom: 2px solid rgba(255, 255, 255, 0.7);\n    transform-origin: center right;\n    transform: rotate(-45deg) scale(0.5);\n  }\n.Comment_resizeThumb__20KWn::after {\n    transform: rotate(-45deg) translateY(3px) scale(0.5);\n  }\n.Comment_textarea__2Rze3 {\n  resize: none;\n  width: calc(100% + 2px);\n  height: calc(100% + 2px);\n  border-radius: 3px;\n  background: rgba(255,255,255,.1);\n  border: none;\n  outline: none;\n  margin: -2px;\n  margin-top: -1px;\n  padding-top: 0px;\n  font-size: 14px;\n}\n.Comment_textarea__2Rze3::placeholder{\n    color: rgba(0,0,0,.5);\n  }\n');var Su="ColorPicker_wrapper__1M1j2",Tu="ColorPicker_colorButtonWrapper__1ijdj",Nu="ColorPicker_colorButton__1Qcuq";function Pu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Du(e,t,n){return t&&ku(e.prototype,t),n&&ku(e,n),e}function Iu(e){var t=function(e,t){if("object"!==Bi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bi(t)?t:String(t)}function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ee('.ColorPicker_wrapper__1M1j2{\n  position: fixed;\n  z-index: 9999;\n  background: rgba(29, 32, 34, 0.95);\n  border-radius: 5px;\n  box-shadow: 0px 6px 7px rgba(0,0,0,.3);\n  border: 1px solid rgba(0,0,0,.4);\n  color: #fff;\n  display: flex;\n  width: 102px;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n@supports (backdrop-filter: blur(6px)){\n  .ColorPicker_wrapper__1M1j2{\n    backdrop-filter: blur(6px);\n    background: rgba(29, 32, 34, 0.8);\n  }\n}\n.ColorPicker_colorButtonWrapper__1ijdj{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 2px;\n}\n.ColorPicker_colorButton__1Qcuq{\n  border-radius: 3px;\n  border: none;\n  width: 20px;\n  height: 20px;\n  background: rgba(204, 204, 204, 1);\n}\n.ColorPicker_colorButton__1Qcuq[data-color="red"]{\n    background: rgba(210, 101, 111, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="purple"]{\n    background: rgba(159, 101, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="blue"]{\n    background: rgba(101, 151, 210, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="green"]{\n    background: rgba(101, 210, 168, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="orange"]{\n    background: rgba(210, 137, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="yellow"]{\n    background: rgba(210, 196, 101, 1)\n  }\n.ColorPicker_colorButton__1Qcuq[data-color="pink"]{\n    background: rgba(241, 124, 226, 1)\n  }\n.ColorPicker_colorButton__1Qcuq:hover{\n    opacity: .8;\n  }\n');var Mu=function(e,t){return void 0!==e?e:t},Lu=function(e,t){var n,r,o,a,i;return{label:null!==(n=null!==(r=t.label)&&void 0!==r?r:e.label)&&void 0!==n?n:"",name:null!==(o=null!==(a=t.name)&&void 0!==a?a:e.name)&&void 0!==o?o:"",defaultValue:null!==(i=t.defaultValue)&&void 0!==i?i:e.defaultValue}},zu={text:function(e){return Ru(Ru({},Lu({name:"text",defaultValue:""},e)),{},{type:"text"})},select:function(e){var t;return Ru(Ru({},Lu({name:"select",defaultValue:""},e)),{},{type:"select",options:null!==(t=e.options)&&void 0!==t?t:[],getOptions:e.getOptions,placeholder:e.placeholder})},number:function(e){return Ru(Ru({},Lu({name:"number",defaultValue:0},e)),{},{type:"number",step:e.step})},checkbox:function(e){return Ru(Ru({},Lu({name:"checkbox",defaultValue:!1},e)),{},{type:"checkbox"})},multiselect:function(e){var t;return Ru(Ru({},Lu({name:"multiselect",defaultValue:[]},e)),{},{type:"multiselect",options:null!==(t=e.options)&&void 0!==t?t:[],getOptions:e.getOptions,placeholder:e.placeholder})},custom:function(e){var t;return Ru(Ru({},Lu({name:"custom",defaultValue:void 0},e)),{},{type:"custom",render:null!==(t=e.render)&&void 0!==t?t:function(){return null}})}},Fu={yellow:"yellow",orange:"orange",red:"red",pink:"pink",purple:"purple",blue:"blue",green:"green",grey:"grey"},qu=function(e){return Object.values(e).reduce((function(e,t){return e[t.type]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:t.type,name:e.name||t.name,label:e.label||t.label,noControls:Mu(e.noControls,!1),color:e.color||t.color,hidePort:Mu(e.hidePort,t.hidePort),controls:Mu(e.controls,t.controls)}},e}),{})},Wu=function(){function e(t){Pu(this,e),t?(this.nodeTypes=Ru({},t.nodeTypes),this.portTypes=Ru({},t.portTypes)):(this.nodeTypes={},this.portTypes={})}return Du(e,[{key:"addRootNodeType",value:function(e){return this.addNodeType(Ru(Ru({},e),{},{root:!0,addable:!1,deletable:!1})),this}},{key:"addNodeType",value:function(e){if("object"!==Bi(e)&&null!==e)throw new Error("You must provide a configuration object when calling addNodeType.");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addNodeType.');if(void 0!==e.initialWidth&&"number"!=typeof e.initialWidth)throw new Error('Optional key, "initialWidth" must be a number when calling addNodeType.');if(void 0!==this.nodeTypes[e.type])throw new Error('A node with type "'.concat(e.type,'" has already been declared.'));var t={type:e.type,label:Mu(e.label,""),description:Mu(e.description,""),addable:Mu(e.addable,!0),deletable:Mu(e.deletable,!0)};if(e.initialWidth&&(t.initialWidth=e.initialWidth),void 0!==e.sortIndex&&(t.sortIndex=e.sortIndex),"function"==typeof e.inputs){var n=e.inputs(qu(this.portTypes));if(!Array.isArray(n)&&"function"!=typeof e.inputs)throw new Error('When providing a function to the "inputs" key, you must return either an array or a function.');t.inputs=n}else if(void 0===e.inputs)t.inputs=[];else{if(!Array.isArray(e.inputs))throw new Error('Optional key, "inputs" must be an array.');t.inputs=e.inputs}if("function"==typeof e.outputs){var r=e.outputs(qu(this.portTypes));if(!Array.isArray(r)&&"function"!=typeof e.outputs)throw new Error('When providing a function to the "outputs" key, you must return either an array or a function.');t.outputs=r}else if(void 0===e.outputs)t.outputs=[];else{if(void 0!==e.outputs&&!Array.isArray(e.outputs))throw new Error('Optional key, "outputs" must be an array.');t.outputs=e.outputs}if(void 0!==e.root){if("boolean"!=typeof e.root)throw new Error('Optional key, "root" must be a boolean.');t.root=e.root}return this.nodeTypes[e.type]=t,this}},{key:"removeNodeType",value:function(e){if(this.nodeTypes[e]){var t=this.nodeTypes;t[e];var n=ft(t,[e].map(Iu));this.nodeTypes=n}else console.error('Non-existent node type "'.concat(e,'" cannot be removed.'));return this}},{key:"addPortType",value:function(e){if("object"!==Bi(e)&&null!==e)throw new Error("You must provide a configuration object when calling addPortType");if("string"!=typeof e.type)throw new Error('Required key, "type" must be a string when calling addPortType.');if(void 0!==this.portTypes[e.type])throw new Error('A port with type "'.concat(e.type,'" has already been declared.'));if("string"!=typeof e.name)throw new Error('Required key, "name" must be a string when calling addPortType.');var t={type:e.type,name:e.name,label:Mu(e.label,""),color:Mu(e.color,Fu.grey),hidePort:Mu(e.hidePort,!1)};if(void 0===e.acceptTypes)t.acceptTypes=[e.type];else{if(!Array.isArray(e.acceptTypes))throw new Error('Optional key, "acceptTypes" must be an array.');t.acceptTypes=e.acceptTypes}if(void 0===e.controls)t.controls=[];else{if(!Array.isArray(e.controls))throw new Error('Optional key, "controls" must be an array.');t.controls=e.controls}return this.portTypes[e.type]=t,this}},{key:"removePortType",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipDynamicNodesCheck,n=void 0!==t&&t;if(this.portTypes[e]){if(!n)Object.values(this.nodeTypes).filter((function(e){return"function"==typeof e.inputs||"function"==typeof e.outputs})).length&&console.warn("We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.");var r=Object.values(this.nodeTypes).filter((function(t){return Array.isArray(t.inputs)&&t.inputs.find((function(t){return t.type===e}))||Array.isArray(t.outputs)&&t.outputs.find((function(t){return t.type===e}))}));if(r.length)throw new Error('Cannot delete port type "'.concat(e,'" without first deleting all node types using these ports: [').concat(r.map((function(e){return"".concat(e.type)})).join(", "),"]"));var o=this.portTypes;o[e];var a=ft(o,[e].map(Iu));this.portTypes=a}else console.error('Non-existent port type "'.concat(e,'" cannot be removed.'));return this}}]),e}(),Yu=function(e){var t=e.x,n=e.y,r=e.onColorPicked,o=e.onRequestClose,a=u().useRef(null),i=u().useCallback((function(e){console.log("testClickOutside",e.type),a.current&&!a.current.contains(e.target)&&(o(),document.removeEventListener("click",i),document.removeEventListener("contextmenu",i))}),[a,o]),c=u().useCallback((function(e){"Escape"===e.key&&(o(),document.removeEventListener("keydown",c))}),[o]);return u().useEffect((function(){return setTimeout((function(){document.addEventListener("keydown",c),document.addEventListener("click",i),document.addEventListener("contextmenu",i)})),function(){document.removeEventListener("click",i),document.removeEventListener("contextmenu",i),document.removeEventListener("keydown",c)}}),[i,c]),u().createElement("div",{"data-flume-component":"color-picker",ref:a,className:Su,style:{left:t,top:n}},Object.values(Fu).map((function(e){var t=e;return u().createElement(Hu,{onSelected:function(){r(t),o()},color:t,key:t})})))},Hu=function(e){var t=e.color,n=e.onSelected;return u().createElement("div",{className:Tu},u().createElement("button",{"data-flume-component":"color-button",className:Nu,onClick:n,"data-color":t,"aria-label":t}))},Vu=function(e){var t=e.dispatch,n=e.id,r=e.x,o=e.y,a=e.width,i=e.height,c=e.color,l=e.text,s=e.stageRect,d=e.onDragStart,p=e.isNew,f=u().useContext(lt),v=u().useRef(null),b=u().useRef(null),y=X(u().useState(!1),2),m=y[0],h=y[1],g=X(u().useState(!1),2),_=g[0],x=g[1],E=X(u().useState(!1),2),A=E[0],O=E[1],w=X(u().useState({x:0,y:0}),2),C=w[0],j=w[1],S=X(u().useState({x:0,y:0}),2),T=S[0],N=S[1],P=function(){h(!0)},k=u().useCallback((function(){return x(!1)}),[]);return u().useEffect((function(){p&&(h(!0),t({type:hc.REMOVE_COMMENT_NEW,id:n}))}),[p,t,n]),u().createElement(yt,{innerRef:v,className:Ou,style:{transform:"translate(".concat(r,"px,").concat(o,"px)"),width:a,height:i,zIndex:m?999:""},stageState:f,stageRect:s,onDragStart:function(e){d()},onDrag:function(e){var t=e.x,n=e.y;v.current&&(v.current.style.transform="translate(".concat(t,"px,").concat(n,"px)"))},onDragEnd:function(e,r){var o=r.x,a=r.y;t({type:hc.SET_COMMENT_COORDINATES,id:n,x:o,y:a})},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),j({x:e.clientX,y:e.clientY}),O(!0),!1},onDoubleClick:P,onWheel:function(e){return e.stopPropagation()},"data-color":c,"data-flume-component":"comment"},m?u().createElement("textarea",{"data-flume-component":"comment-textarea",className:ju,onChange:function(e){t({type:hc.SET_COMMENT_TEXT,id:n,text:e.target.value})},onMouseDown:function(e){return e.stopPropagation()},onBlur:function(){h(!1)},placeholder:"Text of the comment...",autoFocus:!0,value:l,ref:b}):u().createElement("div",{"data-flume-component":"comment-text","data-comment":!0,className:wu},l),u().createElement(yt,{className:Cu,stageState:f,stageRect:s,onDrag:function(e){var t=et(e.x-r+10,80,1e4),n=et(e.y-o+10,30,1e4);v.current&&(v.current.style.width="".concat(t,"px"),v.current.style.height="".concat(n,"px"))},onDragEnd:function(e,a){var i=et(a.x-r+10,80,1e4),c=et(a.y-o+10,30,1e4);t({type:hc.SET_COMMENT_DIMENSIONS,id:n,width:i,height:c})},"data-flume-component":"comment-resize-handle"}),A?u().createElement(de,null,u().createElement(nt,{hideFilter:!0,label:"Comment Options",x:C.x,y:C.y,options:[{value:"edit",label:"Edit Comment",description:"Edit the text of the comment"},{value:"color",label:"Change Color",description:"Change the color of the comment"},{value:"delete",label:"Delete Comment",description:"Delete the comment"}],onRequestClose:function(){return O(!1)},onOptionSelected:function(e){switch(e.value){case"edit":P();break;case"color":N(C),x(!0),console.log(C);break;case"delete":t({type:hc.DELETE_COMMENT,id:n})}}})):null,_?u().createElement(de,null,u().createElement(Yu,{x:T.x,y:T.y,onRequestClose:k,onColorPicked:function(e){t({type:hc.SET_COMMENT_COLOR,id:n,color:e})}})):null)},Uu="Toaster_toaster__1eC3T",Xu="Toaster_toast__3YHVS",Ku="Toaster_title__4InNr",Ju="Toaster_timer__3dGzF",Qu="Toaster_exitButton__1S_Ks";function Gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ee('.Toaster_toaster__1eC3T{\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  width: 100%;\n  height: 1px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 15px;\n  box-shadow: 0px 5px 10px -2px rgba(0,0,0,.3);\n  pointer-events: none;\n}\n.Toaster_toast__3YHVS{\n  position: absolute;\n  left: calc(50% - 200px);\n  top: 0px;\n  pointer-events: all;\n  width: 400px;\n  padding: 10px;\n  padding-top: 7px;\n  padding-right: 16px;\n  border-radius: 6px;\n  background: rgba(231, 231, 231, 1);\n  border: 1px solid;\n  margin-bottom: 5px;\n  transition: transform 300ms;\n  flex: 0 0 auto;\n  animation: Toaster_fade-in__2526Y 150ms;\n  user-select: none;\n  font-size: 14px;\n  display: flex;\n  flex-direction: column;\n  will-change: transform;\n}\n.Toaster_toast__3YHVS[data-type="danger"]{\n    background: rgb(255, 116, 137);\n    border-color: rgb(254, 99, 136);\n    color: rgb(66, 6, 20);\n  }\n.Toaster_toast__3YHVS[data-type="info"]{\n    background: rgb(76, 193, 250);\n    border-color: rgb(103, 182, 255);\n    color: rgb(5, 36, 64);\n  }\n.Toaster_toast__3YHVS[data-type="success"]{\n    background: rgb(81, 230, 150);\n    border-color: rgb(85, 227, 150);\n    color: rgb(7, 57, 30);\n  }\n.Toaster_toast__3YHVS[data-type="warning"]{\n    background: rgb(245, 208, 93);\n    border-color: rgb(247, 235, 125);\n    color: rgb(83, 75, 8);\n  }\n.Toaster_toast__3YHVS[data-exiting=true]{\n    animation: Toaster_fade-out__2lM6E 150ms;\n    animation-fill-mode: forwards;\n  }\n.Toaster_toast__3YHVS p{\n  margin: 0px;\n}\n.Toaster_title__4InNr{\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 5px;\n}\n.Toaster_timer__3dGzF{\n  position: absolute;\n  bottom: -1px;\n  left: -1px;\n  width: calc(100% + 2px);\n  height: 3px;\n  background: rgba(0,0,0,.4);\n  transform-origin: left center;\n  animation: Toaster_timer__3dGzF 1000ms linear;\n  animation-fill-mode: forwards;\n  z-index: 9;\n}\n.Toaster_exitButton__1S_Ks{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n  background: none;\n  border: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n  color: inherit;\n  opacity: .6;\n}\n.Toaster_exitButton__1S_Ks:hover{\n  opacity: .9;\n}\n\n@keyframes Toaster_fade-in__2526Y {\n  from{\n    opacity: 0;\n  }\n  to{\n    opacity: 1;\n  }\n}\n\n@keyframes Toaster_fade-out__2lM6E {\n  from{\n    opacity: 1;\n  }\n  to{\n    opacity: 0;\n  }\n}\n\n@keyframes Toaster_timer__3dGzF {\n  from{\n    transform: scaleX(1);\n  }\n  to{\n    transform: scaleX(0);\n  }\n}\n');var $u=function(e){var t=e.toasts,n=void 0===t?[]:t,r=e.dispatchToasts,o=u().useCallback((function(e,t){r({type:Zi.SET_HEIGHT,id:e,height:t})}),[r]),a=u().useCallback((function(e){r({type:Zi.SET_EXITING,id:e})}),[r]),i=u().useCallback((function(e){r({type:Zi.REMOVE_TOAST,id:e})}),[r]);return u().createElement("div",{className:Uu},n.map((function(e,t){return u().createElement(el,Zu(Zu({},e),{},{onHeightReceived:o,onExitRequested:a,onRemoveRequested:i,y:n.slice(0,t+1).reduce((function(e,t){return t.height+e+5}),0),key:e.id}))})))},el=function(e){var t=e.id,n=e.title,r=e.message,o=e.duration,a=e.type,i=e.exiting,c=e.y,l=e.onHeightReceived,s=e.onExitRequested,d=e.onRemoveRequested,p=X(u().useState(!1),2),f=p[0],v=p[1],b=u().useRef(null),y=u().useRef(),m=u().useCallback((function(){v(!0),y.current&&clearTimeout(y.current)}),[]),h=u().useCallback((function(){v(!1),y.current=setTimeout((function(){return s(t)}),o)}),[t,o,s]);u().useLayoutEffect((function(){if(b.current){var e=b.current.getBoundingClientRect().height;l(t,e)}}),[l,t]),u().useEffect((function(){return h(),m}),[h,m]);return u().createElement("div",{"data-flume-component":"toast",ref:b,className:Xu,"data-type":a,style:{transform:"translateY(-".concat(c,"px)")},"data-exiting":i,onAnimationEnd:function(){i&&d(t)},onMouseEnter:m,onMouseLeave:h,role:"alert"},n?u().createElement("span",{"data-flume-component":"toast-title",className:Ku},n):null,u().createElement("p",{"data-flume-component":"toast-message"},r),!f&&u().createElement("div",{className:Ju,style:{animationDuration:"".concat(o,"ms")},onAnimationEnd:function(e){return e.stopPropagation()}}),u().createElement("button",{"data-flume-component":"toast-close",className:Qu,onClick:function(){m(),s(t)}},"✕"))},tl="Connections_svgWrapper__3mXcU";ee(".Connections_svgWrapper__3mXcU{\n  position: absolute;\n  left: 0px;\n  height: 0px;\n}\n");var nl=function(e){var t=e.editorId;return u().createElement("div",{className:tl,id:"".concat(Ii).concat(t)})},rl=Du((function e(){Pu(this,e),this.ports={},this.connections={}})),ol={dragWrapper:"styles_dragWrapper__1P7RD",debugWrapper:"styles_debugWrapper__2OSbY"};function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?al(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ee(".styles_dragWrapper__1P7RD{\n  z-index: 9999;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n.styles_debugWrapper__2OSbY{\n  display: flex;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  gap: 15px;\n}\n");var cl={},ul=u().forwardRef((function(e,t){var n,r=e.comments,o=e.nodes,a=e.nodeTypes,i=void 0===a?{}:a,l=e.portTypes,s=void 0===l?{}:l,d=e.defaultNodes,p=void 0===d?[]:d,f=e.context,v=void 0===f?cl:f,b=e.onChange,y=e.onCommentsChange,m=e.initialScale,h=e.spaceToPan,g=void 0!==h&&h,_=e.hideComments,x=void 0!==_&&_,E=e.disableComments,A=void 0!==E&&E,O=e.disableZoom,w=void 0!==O&&O,C=e.disablePan,j=void 0!==C&&C,S=e.circularBehavior,T=e.renderNodeHeader,N=e.debug,P=null!==(n=function(e){var t=e||(G?$():null),n=(0,c.useState)(t),r=n[0],o=n[1];return J((function(){null===r&&o($())}),[]),(0,c.useEffect)((function(){!1===G&&(G=!0)}),[]),null!=r?String(r):void 0}())&&void 0!==n?n:"",k=u().useRef(new rl),D=u().useRef(),I=X(u().useState(),2),B=I[0],R=I[1],M=X(u().useReducer(ic,[]),2),L=M[0],z=M[1],F=u().useReducer(function(e,t,n){return function(r,o){return e(r,o,t,n)}}(gc,{nodeTypes:i,portTypes:s,cache:k,circularBehavior:S,context:v},R),{},(function(){return yc(o,p,i,s,v)})),q=X(F,2),W=q[0],Y=q[1],H=X(u().useReducer(Cc,r||{}),2),V=H[0],U=H[1];u().useEffect((function(){Y({type:dc.HYDRATE_DEFAULT_NODES})}),[]);var K=X(u().useState(!0),2),Q=K[0],Z=K[1],ee=X(u().useReducer(Tc,{scale:"number"==typeof m?et(m,.1,7):1,translate:{x:0,y:0}}),2),te=ee[0],ne=ee[1],re=u().useCallback((function(){rc(W,te,P)}),[W,P,te]),oe=u().useCallback((function(){var e;D.current=null===(e=document.getElementById("".concat(ki).concat(P)))||void 0===e?void 0:e.getBoundingClientRect()}),[P]);u().useLayoutEffect((function(){Q&&(re(),Z(!1))}),[Q,re]);var ae=u().useCallback((function(){Z(!0)}),[]);u().useImperativeHandle(t,(function(){return{getNodes:function(){return W},getComments:function(){return V}}}));var ie=lu(W);u().useEffect((function(){ie&&b&&W!==ie&&b(W)}),[W,ie,b]);var ce=lu(V);return u().useEffect((function(){ce&&y&&V!==ce&&y(V)}),[V,ce,y]),u().useEffect((function(){B&&(z(B),R(void 0))}),[B]),u().createElement(at.Provider,{value:s},u().createElement(ot.Provider,{value:i},u().createElement(it.Provider,{value:Y},u().createElement(ct.Provider,{value:ae},u().createElement(ut.Provider,{value:v},u().createElement(lt.Provider,{value:te},u().createElement(st.Provider,{value:k},u().createElement(pt.Provider,{value:P},u().createElement(dt.Provider,{value:oe},u().createElement(Nc,{editorId:P,scale:te.scale,translate:te.translate,spaceToPan:g,disablePan:j,disableZoom:w,dispatchStageState:ne,dispatchComments:U,disableComments:A||x,stageRef:D,numNodes:Object.keys(W).length,outerStageChildren:u().createElement(u().Fragment,null,N&&u().createElement("div",{className:ol.debugWrapper},u().createElement("button",{className:ol.debugButton,onClick:function(){return console.log(W)}},"Log Nodes"),u().createElement("button",{className:ol.debugButton,onClick:function(){return console.log(JSON.stringify(W))}},"Export Nodes"),u().createElement("button",{className:ol.debugButton,onClick:function(){return console.log(V)}},"Log Comments")),u().createElement($u,{toasts:L,dispatchToasts:z}))},!x&&Object.values(V).map((function(e){return u().createElement(Vu,il(il({},e),{},{stageRect:D,dispatch:U,onDragStart:oe,key:e.id}))})),Object.values(W).map((function(e){return u().createElement(Eu,il(il({},e),{},{stageRect:D,onDragStart:oe,renderNodeHeader:T,key:e.id}))})),u().createElement(nl,{editorId:P}),u().createElement("div",{className:ol.dragWrapper,id:"".concat(Di).concat(P)})))))))))))}));function ll(e,t){return ll=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ll(e,t)}function sl(e,t){if(t&&("object"===Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dl(e)}function pl(e,t,n){return pl=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ll(o,n.prototype),o},pl.apply(null,arguments)}function fl(e){var t="function"==typeof Map?new Map:void 0;return fl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return pl(e,arguments,dl(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ll(r,e)},fl(e)}function vl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dl(e);if(t){var o=dl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sl(this,n)}}var bl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ll(e,t)}(n,e);var t=vl(n);function n(e,r){var o;return Pu(this,n),(o=t.call(this,e)).code=r,o}return Du(n)}(fl(Error));H(bl,"maxLoopsExceeded",1);function yl(){return yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yl.apply(null,arguments)}var ml=function(e){return function(t){var n=t.name,r=t.label,o=t.others;return zu.custom({name:n,label:r,render:function(t,n,r,a,i,c){return React.createElement(React.Fragment,null,React.createElement("label",{"data-flume-component":"control-label",className:"Control_controlLabel__3ga2-"},i.label),React.createElement("div",{className:"TextInput_wrapper__tefOZ","data-flume-component":"text-input"},React.createElement("input",yl({type:e,"data-flume-component":"text-input-$(itype)",className:"TextInput_input__1QHwS",defaultValue:t,onChange:function(e){return n(e.target.value)}},o))))}})}},hl={number:zu.number,int:zu.number,float:zu.number,text:zu.text,str:zu.text,checkbox:zu.checkbox,bool:zu.checkbox,select:zu.select,multiselect:zu.multiselect,color:ml("color"),date:ml("date"),time:ml("time"),month:ml("month"),week:ml("week"),slider:ml("range")},gl=n(72),_l=n.n(gl),xl=n(825),El=n.n(xl),Al=n(659),Ol=n.n(Al),wl=n(56),Cl=n.n(wl),jl=n(540),Sl=n.n(jl),Tl=n(113),Nl=n.n(Tl),Pl=n(635),kl={};kl.styleTagTransform=Nl(),kl.setAttributes=Cl(),kl.insert=Ol().bind(null,"head"),kl.domAPI=El(),kl.insertStyleElement=Sl();_l()(Pl.A,kl);Pl.A&&Pl.A.locals&&Pl.A.locals;var Dl=["color","controls"],Il=["type"],Bl=["inputs","outputs","label","category"],Rl=["type","controls"],Ml=["type","controls"];function Ll(e){return Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(e)}function zl(e){return function(e){if(Array.isArray(e))return Ul(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){Zl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||Vl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Vl(e,t){if(e){if("string"==typeof e)return Ul(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ul(e,t):void 0}}function Ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$l(r.key),r)}}function Kl(e,t,n){return t=Ql(t),function(e,t){if(t&&("object"==Ll(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jl()?Reflect.construct(t,n||[],Ql(e).constructor):t.apply(e,n))}function Jl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jl=function(){return!!e})()}function Ql(e){return Ql=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ql(e)}function Gl(e,t){return Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gl(e,t)}function Zl(e,t,n){return(t=$l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $l(e){var t=function(e,t){if("object"!=Ll(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ll(t)?t:t+""}var es=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Zl(n=Kl(this,t,[e]),"updateConfig",(function(){var e=n.props.config;n.flconfig=new Wu;var t,r=Hl(e.portTypes);try{for(r.s();!(t=r.n()).done;){var o=t.value,a=o.color,i=o.controls,c=Wl(o,Dl);B(a)||L(a)||(c.color=Fu[a]),B(i)||L(i)?c.controls=[zu.custom({name:c.type,label:c.label,defaultValue:null,render:function(e,t,n,r,o,a){return u().createElement("label",{"data-flume-component":"port-label",className:"IoPorts_portLabel__qOE7y"}," ",o.inputLabel)}})]:c.controls=i.map((function(e){var t=e.type,n=Wl(e,Il);return hl[t](ql({},n))}));try{n.flconfig.addPortType(c)}catch(e){}}}catch(e){r.e(e)}finally{r.f()}var l,s=Hl(e.nodeTypes);try{var d,p=function(){var e=l.value,t=e.inputs,r=e.outputs,o=e.label,a=e.category,i=Wl(e,Bl);if(!B(t)&&!L(t))if(R("source",t))d=new Function(t.source),i.inputs=function(e){return function(t,n,r){return d(e,t,n,r)}};else if(R("path",t))try{i.inputs=function(e){return function(n,r,o){return(0,window.dash_clientside.flowfunc[t.path])(e,n,r,o)}}}catch(e){console.log("Error in evaluating function from path",e)}else i.inputs=function(e){return t.map((function(t){var n=t.type,r=(t.controls,Wl(t,Rl));return e[n](r)}))};B(r)||L(r)||(i.outputs=function(e){return r.map((function(t){var n=t.type,r=(t.controls,Wl(t,Ml));return e[n](r)}))}),B(a)||L(a)?i.label=o:i.label="".concat(a,": ").concat(o),n.flconfig.addNodeType(i)};for(s.s();!(l=s.n()).done;)p()}catch(e){s.e(e)}finally{s.f()}if(!n.props.type_safety)for(var f=n.flconfig.portTypes.object.acceptTypes,v=0,b=Object.entries(n.flconfig.portTypes);v<b.length;v++){var y=Yl(b[v],2);y[0];y[1].acceptTypes=f}})),Zl(n,"handleChange",(function(){n.props.setProps({editor_status:"client",nodes:n.nodeEditor.current.getNodes(),comments:n.nodeEditor.current.getComments()})})),Zl(n,"setNodeStatus",(function(e,t){var r=n.container.current.querySelector('[data-node-id="'+e+'"]');if(t){var o;(o=r.classList).remove.apply(o,["started","queued","deferred","finished","canceled","stopped","scheduled","failed"]),r.classList.add(t)}})),Zl(n,"setNodesStatus",(function(){if(!(B(n.props.nodes_status)|L(n.props.nodes_status)))for(var e=0,t=Object.entries(n.props.nodes_status);e<t.length;e++){var r=Yl(t[e],2),o=r[0],a=r[1];try{n.setNodeStatus(o,a)}catch(e){}}})),Zl(n,"addEventListners",(function(){var e=n,t=n.container.current;"true"!==t.getAttribute("data-event-click")&&(t.addEventListener("click",(function(n){if(!n.ctrlKey){e.localSelectedNodes=new Set;for(var r=0,o=Object.entries(e.props.nodes);r<o.length;r++){var a=Yl(o[r],2),i=a[0];a[1];try{t.querySelector('[data-node-id = "'+i+'"]').classList.remove("active")}catch(e){}}}var c=n.target.closest("[class^=Node_wrapper]");if(c){var u=c.getAttribute("data-node-id");e.localSelectedNodes.add(u),c.classList.add("active")}e.props.setProps({selected_nodes:zl(e.localSelectedNodes)})})),t.addEventListener("dblclick",(function(t){var n=t.target.closest("[class^=Node_wrapper]");if(n){var r=n.getAttribute("data-node-id");e.props.setProps({double_clicked_node:r})}})),t.setAttribute("data-event-click","true"))})),n.nodeEditor=u().createRef(),n.container=u().createRef(),n.ukey=(new Date).toISOString(),n.localSelectedNodes=new Set,n.updateConfig(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gl(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.addEventListners(),window.flumeEditor=this.nodeEditor.current}},{key:"componentDidUpdate",value:function(e){this.props.config!==e.config&&this.updateConfig(),"server"===this.props.editor_status&&(this.ukey=(Math.random()+1).toString(36).substring(7)),this.setNodesStatus()}},{key:"render",value:function(){return u().createElement("div",{id:this.props.id,style:{height:"100%",zIndex:-1},ref:this.container},u().createElement(ul,{ref:this.nodeEditor,portTypes:this.flconfig.portTypes,nodeTypes:this.flconfig.nodeTypes,nodes:this.props.nodes,defaultNodes:this.props.default_nodes,context:this.props.context,initialScale:this.props.initial_scale,disableZoom:this.props.disable_zoom,disablePan:this.props.disable_pan,spaceToPan:this.props.space_to_pan,onChange:this.handleChange,onCommentsChange:this.handleChange,key:this.ukey}))}}])&&Xl(n.prototype,r),o&&Xl(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(c.Component);es.defaultProps={},es.propTypes={id:Y().string,style:Y().object,nodes:Y().object,nodes_status:Y().object,editor_status:Y().string,selected_nodes:Y().array,double_clicked_node:Y().string,comments:Y().object,type_safety:Y().bool,default_nodes:Y().array,context:Y().object,initial_scale:Y().number,disable_zoom:Y().bool,disable_pan:Y().bool,space_to_pan:Y().bool,config:Y().object,setProps:Y().func},window.flowfunc=i})();
//# sourceMappingURL=flowfunc.min.js.map